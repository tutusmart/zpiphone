webpackJsonp([47],{"9rBz":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={name:"questionnaire",components:{},data:function(){return{radioo:[],result:[],Dateread:"",memberId:""}},methods:{onClickLeft:function(){this.utils.goBack(this)},getLeaveList:function(t){var i=this,e={teachingId:t};this.utils.ajax({url:this.api.queryOpinionByTeachingId,data:e,method:"POST",success:function(t){i.Dateread=t.questionOfOpinionVOs,console.log(t,"kkkk"),i.memberId=t.id}})},onClickRight:function(){0!==this.radioo.length&&0!==this.result.length?this.keepp(2):this.Toast("选题不能为空")},keep:function(){this.radioo.map(function(t){console.log(t,"ooooooooo")}),0!==this.radioo.length&&0!==this.result.length?this.keepp(1):this.Toast("选题不能为空")},keepp:function(t){var i=this;console.log(this.$store.state.activitiesDetailsObj,"kkkkkkkkk");var e={flag:t,memberId:this.$store.state.activitiesDetailsObj.memberCaId,teachingId:this.$store.state.activitiesDetailsObj.id,answers:[]};this.Dateread.forEach(function(t){var n={optionOfQuestionId:"",questionOfOpinionId:"",opinionId:t.rcpFkOpinion};i.result.forEach(function(e,o){console.log(t,"kkkksksksksksk"),t.id==e.rcpFkQuestionOfOpinion&&(n.questionOfOpinionId=t.id,o==i.result.length-1?n.optionOfQuestionId+=e.id:n.optionOfQuestionId+=e.id+",")}),i.radioo.forEach(function(i){t.id==i.rcpFkQuestionOfOpinion&&(n.questionOfOpinionId=t.id,n.optionOfQuestionId=i.id)}),e.answers.push(n)}),console.log(e.answers),this.utils.ajax({url:this.api.saveAnswerOfOpinion,data:e,method:"POST",success:function(t){}})}},created:function(){this.getLeaveList(this.$route.params.id),console.log(this.$route.params.id)}},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{},[e("van-nav-bar",{staticClass:"header",attrs:{title:"问卷调查","right-text":"提交",fixed:"","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),e("div",{staticClass:"layout_content"},[e("div",{staticClass:"back"},t._l(t.Dateread,function(i,n){return e("div",{staticClass:"hader"},[e("p",[t._v(t._s(n+1)+"."+t._s(i.title))]),t._v(" "),1==i.typeOfQuestion?e("van-radio-group",{model:{value:t.radioo[n],callback:function(i){t.$set(t.radioo,n,i)},expression:"radioo[index]"}},t._l(i.optionOfQuestionVOs,function(i,n){return e("van-radio",{key:n,attrs:{name:i}},[t._v(t._s(i.content))])}),1):t._e(),t._v(" "),2==i.typeOfQuestion?e("van-checkbox-group",{model:{value:t.result,callback:function(i){t.result=i},expression:"result"}},t._l(i.optionOfQuestionVOs,function(i){return e("van-checkbox",{key:i.id,attrs:{name:i}},[t._v(t._s(i.content))])}),1):t._e()],1)}),0),t._v(" "),e("div",{staticClass:"kong"}),t._v(" "),e("button",{staticClass:"preserved",on:{click:function(i){return t.keep()}}},[t._v("保存")])])],1)},staticRenderFns:[]};var s=e("VU/8")(n,o,!1,function(t){e("hI07")},"data-v-09efa6e2",null);i.default=s.exports},hI07:function(t,i){}});
//# sourceMappingURL=47.5a68e5725c9f300878c3.js.map