webpackJsonp([34],{"8hEv":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Gu7T"),i=a.n(n),s={name:"LeaveApprova",components:{ViewList:a("p2g1").a},data:function(){var t=this;return{loading:!1,finished:!1,error:!1,finishedText:"没有更多了",listData:[],listObj:{list:[{field:"姓名：",name:"name",leftClass:"gray"},{field:"时间：",name:"startDate",leftClass:"gray"},{field:"申请时间：",name:"applyDate",leftClass:"gray"},{field:"请假原因：",name:"reason",leftClass:"gray"}],click:function(e,a){t.$router.push({name:"LeaveApprovaLinst",params:{reason:e.reason,name:e.name,applyDate:e.applyDate,startDatee:e.startDatee,attendanceTypeName:e.attendanceTypeName,dayNum:e.dayNum,id:e.applyCurrentSetpId}})}}}},methods:{onClickLeft:function(){this.utils.goBack(this)},onLoad:function(){this.queryData()},queryData:function(){var t=this,e={auditFlag:"0",currentPage:Math.ceil(this.listData.length/this.$store.state.pageSize)+1,pageSize:this.$store.state.pageSize};this.utils.ajax({url:this.api.queryAuditList,data:e,method:"POST",success:function(a){if(a.content.length){var n=a.content.map(function(t){var e=t;return e.name=e.studentVO.name,e.startDatee=e.startDate+"-"+e.endDate,e});t.listData=[].concat(i()(t.listData),i()(n)),console.log(t.listData)}else t.finishedText="";t.loading=!1,e.currentPage>=a.totalPages&&(t.finished=!0)}})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"header",attrs:{title:"请假审批列表",fixed:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),a("div",{staticClass:"layout_content"},[a("van-list",{attrs:{finished:t.finished,error:t.error,"error-text":"请求失败，点击重新加载","finished-text":t.finishedText,"immediate-check":"",offset:50},on:{"update:error":function(e){t.error=e},load:function(e){return t.onLoad()}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("ViewList",{attrs:{listObj:t.listObj,listData:t.listData}})],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(t){a("oZN4")},"data-v-55b2fda5",null);e.default=l.exports},oZN4:function(t,e){}});
//# sourceMappingURL=34.efd8801841b8051505c3.js.map