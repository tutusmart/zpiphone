webpackJsonp([31],{BSqv:function(t,e){},"UL/O":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"ChooseTeacher",data:function(){return{teacher:[],serchMode:"",showData:[],loading:!1,finished:!1,studentObj:this.$store.state.studentObj,params:{pageSize:this.$store.state.pageSize,currentPage:1}}},methods:{onClickLeft:function(){this.$store.state.studentObj=null,this.utils.goBack(this)},keyupSerch:function(t){var e=new RegExp(this.serchMode),a=[];console.log(this.serchMode),this.teacher.forEach(function(t){e.test(t.teacherName)&&a.push(t)}),this.showData=a},clearSerchMode:function(){this.serchMode="",this.showData=this.teacher},showTeaher:function(t){var e={cycleEndTime:this.studentObj.endDate,cycleStartTime:this.studentObj.startDate,departmentId:this.studentObj.departmentId,normalDepartmentId:this.studentObj.normalDepartmentId,studentId:this.studentObj.humanId,teacherId:t.teacherId};this.$router.push({name:"ShowTeacher",params:{params:e,teacherName:t.teacherName}})},onLoad:function(){this.studentObj&&this.loadData()},loadData:function(){var t=this,e=this.params;e.cycleDepartmentId=this.studentObj.departmentId,e.endDate=this.studentObj.endDate,e.name=this.studentObj.humanName,e.normalDepartmentId=this.studentObj.normalDepartmentId,e.startDate=this.studentObj.startDate,e.studentId=this.studentObj.humanId,e.selfDepartment=!0,this.loading=!0,this.utils.ajax({url:this.api.pagingAllotTeacherList,method:"post",data:e,success:function(e){console.log(t),e.number>=e.totalPages&&(t.finished=!0),e.content.forEach(function(e){t.teacher.push(e)}),t.showData=t.teacher,t.params.currentPage++,t.loading=!1}})},getTime:function(t){return this.utils.formatDate(t.startDate,"yyyy-MM-dd")+"至"+this.utils.formatDate(t.endDate,"yyyy-MM-dd")},zdKey:function(t){var e=null;return[{key:"017",value:"无"},{key:"001",value:"主任医师"},{key:"002",value:"副主任医师"},{key:"003",value:"主治医师"},{key:"004",value:"医师、医士"},{key:"005",value:"主任药师"},{key:"006",value:"副主任药师"},{key:"007",value:"主管药师"},{key:"008",value:"药师、药士"},{key:"009",value:"主任护师"},{key:"010",value:"副主任护师"},{key:"011",value:"主管护师"},{key:"012",value:"护师、护士"},{key:"013",value:"主任技师"},{key:"014",value:"副主任技师"},{key:"015",value:"主管技师"},{key:"016",value:"技师、技士"}].forEach(function(a){a.key==t&&(e=a.value)}),e||"未知"}},created:function(){}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"header",attrs:{title:"待分配学员",fixed:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),a("div",{staticClass:"layout_content"},[a("div",{staticClass:"serch"},[a("van-icon",{staticClass:"left",attrs:{name:"search"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.serchMode,expression:"serchMode"}],attrs:{type:"text",placeholder:"搜索带教老师"},domProps:{value:t.serchMode},on:{keyup:t.keyupSerch,input:[function(e){e.target.composing||(t.serchMode=e.target.value)},t.keyupSerch],change:t.keyupSerch}}),t._v(" "),a("van-icon",{staticClass:"right",attrs:{name:"clear"},on:{click:t.clearSerchMode}})],1),t._v(" "),t.studentObj?a("div",{staticClass:"studentInfo"},[a("div",[a("span",[t._v("学员")]),a("span",{staticClass:"both"}),a("span",[t._v(t._s(t.studentObj.humanName))])]),t._v(" "),a("div",[a("span",[t._v("轮转科室")]),a("span",{staticClass:"both"}),a("span",[t._v(t._s(t.studentObj.departmentName))])]),t._v(" "),a("div",[a("span",[t._v("轮转时间")]),a("span",{staticClass:"both"}),a("span",[t._v(t._s(t.getTime(t.studentObj)))])])]):t._e(),t._v(" "),a("div",{staticClass:"teacher"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("ul",t._l(this.showData,function(e){return a("li",{on:{click:function(a){return t.showTeaher(e)}}},[a("div",[a("span",{staticClass:"inline-width"},[t._v("带教老师：")]),a("span",[t._v(t._s(e.teacherName))])]),t._v(" "),a("div",{staticClass:"flexbox"},[a("div",{staticClass:"flex-box"},[a("span",{staticClass:"inline-width"},[t._v("所在科室：")]),a("span",[t._v(t._s(e.departmentName))])]),t._v(" "),a("div",{staticClass:"box-icon"},[a("van-icon",{staticClass:"color",attrs:{name:"arrow"}})],1)]),t._v(" "),a("div",[a("span",{staticClass:"inline-width"},[t._v("专业技术职务：")]),a("span",[t._v(t._s(t.zdKey(e.specialityTitleCode)))])])])}),0)])],1)])],1)},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(t){a("BSqv")},"data-v-62222094",null);e.default=i.exports}});
//# sourceMappingURL=31.c5af1049b109ba880f70.js.map