webpackJsonp([27],{OnyJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"header",attrs:{title:t.type?"出科小结":"出科申请","right-text":t.type?"":"出科记录",fixed:"","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),t.dataList.tubeBedInfo?a("div",{staticClass:"layout_content"},[!t.type&&t.scheduling.length?a("div",{staticClass:"module"},[a("van-row",[a("van-col",{attrs:{span:12}},[a("div",{staticClass:"br rotation_detail"},[a("div",{staticClass:"department"},[t._v(t._s(t.scheduling[0].departmentName)+"\n            ")]),t._v(" "),a("div",{staticClass:"entry_time van-ellipsis"},[t._v(t._s(t.scheduling[0].rangeDate))]),t._v(" "),a("div",{staticClass:"relative"},[a("p",[a("span",[t._v(t._s(t.allData.differenceDays?"距离出科":"已出科"))])]),a("div",{staticClass:"days"},[a("span",[t._v(t._s(t.allData.differenceDays?t.allData.differenceDays:t.allData.totalDays))]),t._v("天\n              ")]),t._v(" "),a("p")]),t._v(" "),a("van-progress",{attrs:{"show-pivot":!1,color:"linear-gradient(to right, #1186ff, #50cc87)",percentage:t.allData.departmentOutPercent}})],1)]),t._v(" "),a("van-col",{attrs:{span:12}},[a("p",{staticClass:"a next"},[t._v("下一轮转科室")]),t._v(" "),a("div",{staticClass:"van-ellipsis center"},[t._v(t._s(t.scheduling[1]?t.scheduling[1].departmentName:""))])])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"module"},[a("van-cell",{attrs:{title:"带教老师","is-link":"",value:t.selectedObj.info},on:{click:t.changeTeachers}}),t._v(" "),a("div",{staticClass:"summaryWarp"},[a("p",{staticClass:"aTitle van-ellipsis font1"},[t._v(" 一、在本科室的管床数")]),t._v(" "),a("div",[t._v("本科室要求完成管床数：\n          "+t._s(t.dataList.tubeBedInfo.requireTubeBedTebNum)+"例，已完成管床数："+t._s(t.dataList.tubeBedInfo.completeTubeBedTebNum)+"例。完成率\n          "+t._s(t.dataList.tubeBedInfo.completePercent)+"\n        ")]),t._v(" "),a("p",{staticClass:"aTitle van-ellipsis font1"},[t._v(" 二、在本科室书写大病历数")]),t._v(" "),a("div",[t._v("\n          本科室要求完成书写大病历数："+t._s(t.dataList.writeRecordInfo.requireWriteRecordNum)+"例，已完成书写大病历数："+t._s(t.dataList.writeRecordInfo.completeWriteRecordNum)+"例。完成率\n          "+t._s(t.dataList.writeRecordInfo.completePercent)+"\n        ")]),t._v(" "),a("p",{staticClass:"aTitle van-ellipsis font1"},[t._v(" 三、疾病完成情况（含门诊）(完成率:"+t._s(t.dataList.diseaseInfo.percent)+")")]),t._v(" "),a("div",{staticClass:"tableWarp"},[a("table",{staticClass:"table",attrs:{width:"0"}},[a("colgroup",t._l(t.column.disease,function(t){return a("col",{attrs:{width:t.width}})}),0),t._v(" "),a("thead",[a("tr",t._l(t.column.disease,function(e){return a("td",[t._v(t._s(e.field))])}),0)]),t._v(" "),t.dataList.diseaseInfo.data.length?a("tbody",t._l(t.dataList.diseaseInfo.data,function(e,s){return a("tr",t._l(t.column.disease,function(i){return a("td",[t._v(t._s(""===i.name?s+1:e[i.name]))])}),0)}),0):a("tbody",[a("tr",{staticClass:"center"},[a("td",{attrs:{colspan:t.column.disease.length}},[a("span",{staticStyle:{"font-size":".8rem"}},[t._v("暂无数据")])])])])])]),t._v(" "),a("p",{staticClass:"aTitle van-ellipsis font1"},[t._v("四、技能操作(手术)完成情况(含门诊) (完成率:"+t._s(t.dataList.surgeryInfo.percent)+")")]),t._v(" "),a("div",{staticClass:"tableWarp"},[a("table",{staticClass:"table",attrs:{width:"0"}},[a("colgroup",t._l(t.column.skill,function(t){return a("col",{attrs:{width:t.width}})}),0),t._v(" "),a("thead",[a("tr",t._l(t.column.skill,function(e){return a("td",[t._v(t._s(e.field))])}),0)]),t._v(" "),t.dataList.surgeryInfo.data.length?a("tbody",t._l(t.dataList.surgeryInfo.data,function(e,s){return a("tr",t._l(t.column.skill,function(i){return a("td",[t._v(t._s(""===i.name?s+1:e[i.name]))])}),0)}),0):a("tbody",[a("tr",{staticClass:"center"},[a("td",{attrs:{colspan:t.column.disease.length}},[t._v("暂无数据")])])])])]),t._v(" "),a("p",{staticClass:"aTitle van-ellipsis font1"},[t._v("五、出科考试成绩")]),t._v(" "),a("div",[t._v("\n          理论成绩："+t._s(t.score.scoreTheoretical)+t._s(isNaN(t.score.scoreTheoretical)?"":"分")+"，技能成绩："+t._s(t.score.scoreSkill)+t._s(isNaN(t.score.scoreSkill)?"":"分")+"，其他成绩："+t._s(t.score.scoreOther)+t._s(isNaN(t.score.scoreOther)?"":"分")+"；\n        ")]),t._v(" "),a("p",{staticClass:"aTitle van-ellipsis font1"},[t._v("六、在本科室的出勤情况")]),t._v(" "),a("div",[t._v("\n          请假天数"+t._s(t.dataList.attendanceInfo.applyDayNum)+"天，正常"+t._s(t.allData.totalDays-t.dataList.attendanceInfo.applyDayNum)+"天\n        ")])])],1),t._v(" "),a("div",{staticClass:"module"},[a("van-cell",{attrs:{title:"出科小结："}}),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.allData.summary,expression:"allData.summary"}],staticClass:"textarea",attrs:{placeholder:"请您输入信息内容",readonly:!t.allData.isSubmit,maxlength:t.maxLen},domProps:{value:t.allData.summary},on:{input:function(e){e.target.composing||t.$set(t.allData,"summary",e.target.value)}}}),t._v(" "),t.allData.isSubmit?a("p",{staticClass:"leave_tips gray"},[t._v("不能超过"+t._s(t.maxLen)+"字符")]):t._e()],1),t._v(" "),t.type?t._e():a("div",{staticClass:"bgWhite"},[a("van-cell",{attrs:{title:"出科评语："}}),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.allData.identifyContent,expression:"allData.identifyContent"}],staticClass:"textarea",attrs:{readonly:"true"},domProps:{value:t.allData.identifyContent},on:{input:function(e){e.target.composing||t.$set(t.allData,"identifyContent",e.target.value)}}})],1),t._v(" "),t.allData.isSubmit?a("div",{staticClass:"btns",class:t.isAndroid?"mt140":""},[a("van-button",{attrs:{type:"info"},on:{click:t.submit}},[t._v("提交")])],1):t._e(),t._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:t.showTeachers,callback:function(e){t.showTeachers=e},expression:"showTeachers"}},[a("van-picker",{attrs:{"show-toolbar":"",title:"带教老师",columns:t.teachers},on:{confirm:t.onConfirm,cancel:t.hideMask}})],1)],1):t._e()],1)},staticRenderFns:[]};var i=a("VU/8")({name:"GraduateSummary",data:function(){return{isAndroid:!1,showTeachers:!1,maxLen:800,type:!1,disabled:!0,isReadonly:!0,allData:{summary:"",isSubmit:!0},score:{},teachers:[],selectedObj:{},scheduling:[],column:{disease:[{field:"序号",name:"",width:"50px"},{field:"疾病名称",name:"name",width:"200px"},{field:"要求例数",name:"requestNum",width:"80px"},{field:"已提交数",name:"submitNum",width:"80px"},{field:"已审核数",name:"auditNum",width:"80px"},{field:"完成率",name:"percent",width:"80px"}],skill:[{field:"序号",name:"",width:"50px"},{field:"操作（手术名称）",name:"name",width:"200px"},{field:"要求例数",name:"requestNum",width:"80px"},{field:"已提交数",name:"submitNum",width:"80px"},{field:"已审核数",name:"auditNum",width:"80px"},{field:"完成率",name:"percent",width:"80px"}]},dataList:{}}},methods:{onClickLeft:function(){this.utils.goBack(this)},onClickRight:function(){this.type||this.$router.push({name:"RecordEntry",params:{data:"出科记录"}})},changeTeachers:function(){this.teachers.length>1&&(this.showTeachers=!0)},hideMask:function(){this.showTeachers=!1},onConfirm:function(t){this.selectedObj=t,this.showTeachers=!1},submit:function(){var t=this;if(this.allData.summary){var e=this.allData.schedulingOfStudentForOutOfDepartment[0],a={normalDepartmentId:e.normalDepartmentId,departmentId:e.departmentId,endDate:e.endDate,startDate:e.startDate,summary:this.allData.summary,teacherId:this.selectedObj.teacherId};this.utils.ajax({url:this.api.saveDepartmentOutApply,data:a,method:"POST",success:function(e){t.onClickLeft()}})}else this.Toast("请填写出科小结")},getData:function(t){var e=this;this.utils.ajax({method:"POST",url:this.api.departmentOutApply,data:t,success:function(t){e.allData=t,e.dataList=t.departmentOutStatistics,e.score=t.achievementDetailVO,e.scheduling=t.schedulingOfStudentForOutOfDepartment,e.teachers=t.teachers,t.teachers.forEach(function(t){t.text=t.teacherName,t.info=t.teacherName+" "+t.teacherMobile}),e.selectedObj=t.teachers.length?t.teachers[0]:{info:"请选择"},e.scheduling.length&&e.scheduling.forEach(function(t){t.rangeDate=e.utils.formatDate(t.startDate,"yyyy-MM-dd")+"~"+e.utils.formatDate(t.endDate,"yyyy-MM-dd")}),t.departmentOutApply?(e.allData.isSubmit=2===t.departmentOutApply.auditFlag,e.allData.identifyContent=t.departmentOutApply.departmentOutIdentify.identifyContent||"",e.allData.summary=t.departmentOutApply.summary||""):(e.allData.isSubmit=!0,e.allData.identifyContent="",e.allData.summary="")}})}},created:function(){this.isAndroid=this.utils.isInAndroid(),this.type="summary"===this.$route.params.type;var t={};this.$store.state.curDepartmentTime&&(t.currTime=this.$store.state.curDepartmentTime.endDate),this.getData(t)}},s,!1,function(t){a("ZVuj")},"data-v-724c0a0a",null);e.default=i.exports},ZVuj:function(t,e){}});
//# sourceMappingURL=27.a3bd9c76dd9e81c89498.js.map