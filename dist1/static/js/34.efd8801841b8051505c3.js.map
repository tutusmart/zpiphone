{"version":3,"sources":["webpack:///src/view/attendance/LeaveApprova.vue","webpack:///./src/view/attendance/LeaveApprova.vue?fefc","webpack:///./src/view/attendance/LeaveApprova.vue"],"names":["LeaveApprova","name","components","ViewList","data","_this","this","loading","finished","error","finishedText","listData","listObj","list","field","leftClass","click","key","$router","push","params","reason","applyDate","startDatee","attendanceTypeName","dayNum","id","applyCurrentSetpId","methods","onClickLeft","utils","goBack","onLoad","queryData","_this2","auditFlag","currentPage","Math","ceil","length","$store","state","pageSize","ajax","url","api","queryAuditList","method","success","content","map","i","item","studentVO","startDate","endDate","concat","toConsumableArray_default","console","log","totalPages","attendance_LeaveApprova","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","fixed","left-arrow","on","click-left","_v","error-text","finished-text","immediate-check","offset","update:error","$event","load","model","value","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iIAuBAA,GACAC,KAAA,eACAC,YACAC,mBAAA,GAEAC,KALA,WAKA,IAAAC,EAAAC,KACA,OACAC,SAAA,EACAC,UAAA,EACAC,OAAA,EACAC,aAAA,QACAC,YACAC,SACAC,OACAC,MAAA,MAAAb,KAAA,OAAAc,UAAA,SACAD,MAAA,MAAAb,KAAA,YAAAc,UAAA,SACAD,MAAA,QAAAb,KAAA,YAAAc,UAAA,SACAD,MAAA,QAAAb,KAAA,SAAAc,UAAA,SAEAC,MAAA,SAAAZ,EAAAa,GACAZ,EAAAa,QAAAC,MACAlB,KAAA,oBACAmB,QACAC,OAAAjB,EAAAiB,OACApB,KAAAG,EAAAH,KACAqB,UAAAlB,EAAAkB,UACAC,WAAAnB,EAAAmB,WACAC,mBAAApB,EAAAoB,mBACAC,OAAArB,EAAAqB,OACAC,GAAAtB,EAAAuB,0BAOAC,SACAC,YADA,WAEAvB,KAAAwB,MAAAC,OAAAzB,OAEA0B,OAJA,WAKA1B,KAAA2B,aAEAA,UAPA,WAOA,IAAAC,EAAA5B,KACAc,GACAe,UAAA,IACAC,YAAAC,KAAAC,KAAAhC,KAAAK,SAAA4B,OAAAjC,KAAAkC,OAAAC,MAAAC,UAAA,EACAA,SAAApC,KAAAkC,OAAAC,MAAAC,UAGApC,KAAAwB,MAAAa,MACAC,IAAAtC,KAAAuC,IAAAC,eACA1C,KAAAgB,EACA2B,OAAA,OACAC,QAAA,SAAA5C,GACA,GAAAA,EAAA6C,QAAAV,OAAA,CACA,IAAAU,EAAA7C,EAAA6C,QAAAC,IAAA,SAAAC,GACA,IAAAC,EAAAD,EAGA,OAFAC,EAAAnD,KAAAmD,EAAAC,UAAApD,KACAmD,EAAA7B,WAAA6B,EAAAE,UAAA,IAAAF,EAAAG,QACAH,IAGAlB,EAAAvB,YAAA6C,OAAAC,IAAAvB,EAAAvB,UAAA8C,IAAAR,IACAS,QAAAC,IAAAzB,EAAAvB,eAEAuB,EAAAxB,aAAA,GAGAwB,EAAA3B,SAAA,EACAa,EAAAgB,aAAAhC,EAAAwD,aACA1B,EAAA1B,UAAA,SC3FeqD,GADEC,OAFjB,WAA0B,IAAAC,EAAAzD,KAAa0D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,eAAmCE,YAAA,SAAAC,OAA4BC,MAAA,SAAAC,MAAA,GAAAC,aAAA,IAA4CC,IAAKC,aAAAX,EAAAlC,eAA8BkC,EAAAY,GAAA,KAAAT,EAAA,OAAwBE,YAAA,mBAA6BF,EAAA,YAAiBG,OAAO7D,SAAAuD,EAAAvD,SAAAC,MAAAsD,EAAAtD,MAAAmE,aAAA,cAAAC,gBAAAd,EAAArD,aAAAoE,kBAAA,GAAAC,OAAA,IAAuIN,IAAKO,eAAA,SAAAC,GAAgClB,EAAAtD,MAAAwE,GAAiBC,KAAA,SAAAD,GAAyB,OAAAlB,EAAA/B,WAAqBmD,OAAQC,MAAArB,EAAA,QAAAsB,SAAA,SAAAC,GAA6CvB,EAAAxD,QAAA+E,GAAgBC,WAAA,aAAuBrB,EAAA,YAAiBG,OAAOzD,QAAAmD,EAAAnD,QAAAD,SAAAoD,EAAApD,aAA+C,YAEjrB6E,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE3F,EACA6D,GATF,EAVA,SAAA+B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/34.efd8801841b8051505c3.js","sourcesContent":["<template>\n  <div>\n    <van-nav-bar title=\"请假审批列表\" class=\"header\" fixed left-arrow @click-left=\"onClickLeft\"/>\n    <div class=\"layout_content\">\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        :error.sync=\"error\"\n        error-text=\"请求失败，点击重新加载\"\n        :finished-text=\"finishedText\"\n        immediate-check\n        :offset=\"50\"\n        @load=\"onLoad()\"\n      >\n        <ViewList :listObj=\"listObj\" :listData=\"listData\"></ViewList>\n      </van-list>\n    </div>\n  </div>\n</template>\n\n<script>\n  import ViewList from \"@/components/ViewList\";\n\n  export default {\n    name: \"LeaveApprova\",\n    components: {\n      ViewList: ViewList\n    },\n    data() {\n      return {\n        loading: false,\n        finished: false,\n        error: false,\n        finishedText: '没有更多了',\n        listData: [],\n        listObj: {\n          list: [\n            {field: \"姓名：\", name: \"name\", leftClass: \"gray\"},\n            {field: \"时间：\", name: \"startDate\", leftClass: \"gray\"},\n            {field: \"申请时间：\", name: \"applyDate\", leftClass: \"gray\"},\n            {field: \"请假原因：\", name: \"reason\", leftClass: \"gray\"}\n          ],\n          click: (data, key) => {\n            this.$router.push({\n              name: \"LeaveApprovaLinst\",\n              params: {\n                reason: data.reason,\n                name: data.name,\n                applyDate: data.applyDate,\n                startDatee: data.startDatee,\n                attendanceTypeName: data.attendanceTypeName,\n                dayNum: data.dayNum,\n                id: data.applyCurrentSetpId\n              }\n            });\n          }\n        }\n      };\n    },\n    methods: {\n      onClickLeft() {\n        this.utils.goBack(this);\n      },\n      onLoad(){\n        this.queryData();\n      },\n      queryData() {\n        let params = {\n          auditFlag: '0',\n          currentPage: Math.ceil(this.listData.length / this.$store.state.pageSize) + 1,\n          pageSize: this.$store.state.pageSize\n        }\n\n        this.utils.ajax({\n          url: this.api.queryAuditList,\n          data: params,\n          method: \"POST\",\n          success: data => {\n            if (data.content.length) {\n              const content = data.content.map((i)=> {\n                const item = i;\n                item.name = item.studentVO.name;\n                item.startDatee = item.startDate + \"-\" + item.endDate;\n                return item;\n              });\n\n              this.listData = [...this.listData, ...content];\n              console.log(this.listData);\n            } else {\n              this.finishedText = '';\n            }\n\n            this.loading = false;//结束当前加载\n            if (params.currentPage >= data.totalPages) {//最后一页、加载完成\n              this.finished = true;\n            }\n          }\n        });\n      }\n    }\n  };\n</script>\n\n<style scoped>\n  .tabulate ul,\n  .tabulate ul li,\n  .tabulate ul li p {\n    margin: 0;\n    padding: 0;\n  }\n\n  .tabulate ul {\n    width: 99.5%;\n    padding-top: 0.5rem;\n    background: white;\n    border: 1px solid #f7f7f7;\n  }\n\n  .tabulate ul li {\n    width: 89%;\n    margin: 0 auto;\n    display: flex;\n    padding: 0.3rem 0;\n  }\n\n  .fontColor {\n    color: #9c9c9c;\n  }\n\n  .left {\n    /* margin-left: 1.6rem  !important; */\n    text-align: right;\n    width: 70px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/attendance/LeaveApprova.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticClass:\"header\",attrs:{\"title\":\"请假审批列表\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"layout_content\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\",\"finished-text\":_vm.finishedText,\"immediate-check\":\"\",\"offset\":50},on:{\"update:error\":function($event){_vm.error=$event},\"load\":function($event){return _vm.onLoad()}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('ViewList',{attrs:{\"listObj\":_vm.listObj,\"listData\":_vm.listData}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55b2fda5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/attendance/LeaveApprova.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55b2fda5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LeaveApprova.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LeaveApprova.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LeaveApprova.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55b2fda5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LeaveApprova.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55b2fda5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/attendance/LeaveApprova.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}