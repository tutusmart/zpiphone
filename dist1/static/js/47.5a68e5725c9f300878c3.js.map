{"version":3,"sources":["webpack:///src/view/activity/questionnaire.vue","webpack:///./src/view/activity/questionnaire.vue?9ab2","webpack:///./src/view/activity/questionnaire.vue"],"names":["questionnaire","name","components","data","radioo","result","Dateread","memberId","methods","onClickLeft","this","utils","goBack","getLeaveList","activityId","_this","params","teachingId","ajax","url","api","queryOpinionByTeachingId","method","success","questionOfOpinionVOs","console","log","id","onClickRight","length","keepp","Toast","keep","map","i","flag","_this2","$store","state","activitiesDetailsObj","paramss","memberCaId","answers","forEach","item","obj","optionOfQuestionId","questionOfOpinionId","opinionId","rcpFkOpinion","index","rcpFkQuestionOfOpinion","push","saveAnswerOfOpinion","created","$route","activity_questionnaire","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","right-text","fixed","left-arrow","on","click-left","click-right","_v","_l","_s","typeOfQuestion","model","value","callback","$$v","$set","expression","ind","key","content","_e","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/47.5a68e5725c9f300878c3.js","sourcesContent":["<template>\r\n  <div class>\r\n    <van-nav-bar\r\n      title=\"问卷调查\"\r\n      class=\"header\"\r\n      right-text=\"提交\"\r\n      fixed\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    />\r\n    <div class=\"layout_content\">\r\n      <div class=\"back\">\r\n        <div class=\"hader\" v-for=\"(i,index) in Dateread\">\r\n          <p>{{index+1}}.{{i.title}}</p>\r\n          <van-radio-group v-model=\"radioo[index]\" v-if=\"i.typeOfQuestion == 1\">\r\n            <van-radio\r\n              v-for=\"(item,ind) in i.optionOfQuestionVOs\"\r\n              :key=\"ind\"\r\n              :name=\"item\"\r\n            >{{item.content}}</van-radio>\r\n          </van-radio-group>\r\n\r\n          <van-checkbox-group v-model=\"result\" v-if=\"i.typeOfQuestion == 2\">\r\n            <van-checkbox\r\n              v-for=\"item in i.optionOfQuestionVOs\"\r\n              :key=\"item.id\"\r\n              :name=\"item\"\r\n            >{{ item.content }}</van-checkbox>\r\n          </van-checkbox-group>\r\n        </div>\r\n      </div>\r\n      <div class=\"kong\"></div>\r\n      <button class=\"preserved\" @click=\"keep()\">保存</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n  name: \"questionnaire\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      radioo: [],\r\n      result: [],\r\n      Dateread: \"\",\r\n      memberId: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.utils.goBack(this);\r\n    },\r\n\r\n    getLeaveList(activityId) {\r\n      var params = {\r\n        teachingId: activityId\r\n      };\r\n      this.utils.ajax({\r\n        url: this.api.queryOpinionByTeachingId,\r\n        data: params,\r\n        method: \"POST\",\r\n        success: data => {\r\n          this.Dateread = data.questionOfOpinionVOs;\r\n          console.log(data, \"kkkk\");\r\n          this.memberId = data.id;\r\n        }\r\n      });\r\n    },\r\n    onClickRight() {\r\n      if (this.radioo.length !== 0 && this.result.length !== 0) {\r\n        this.keepp(2);\r\n      } else {\r\n        this.Toast(\"选题不能为空\");\r\n      }\r\n    },\r\n    keep() {\r\n      this.radioo.map(i => {\r\n        console.log(i, \"ooooooooo\");\r\n      });\r\n      if (this.radioo.length !== 0 && this.result.length !== 0) {\r\n        this.keepp(1);\r\n      } else {\r\n        this.Toast(\"选题不能为空\");\r\n      }\r\n    },\r\n    keepp(flag) {\r\n      console.log(this.$store.state.activitiesDetailsObj, \"kkkkkkkkk\");\r\n\r\n      var paramss = {\r\n        flag: flag,\r\n        memberId: this.$store.state.activitiesDetailsObj.memberCaId,\r\n        teachingId: this.$store.state.activitiesDetailsObj.id,\r\n        answers: []\r\n      };\r\n      this.Dateread.forEach(item => {\r\n        let obj = {\r\n          optionOfQuestionId: \"\",\r\n          questionOfOpinionId: \"\",\r\n          opinionId: item.rcpFkOpinion\r\n        };\r\n        this.result.forEach((i, index) => {\r\n          console.log(item, \"kkkksksksksksk\");\r\n\r\n          if (item.id == i.rcpFkQuestionOfOpinion) {\r\n            obj.questionOfOpinionId = item.id;\r\n            if (index == this.result.length - 1) {\r\n              obj.optionOfQuestionId += i.id;\r\n            } else {\r\n              obj.optionOfQuestionId += i.id + \",\";\r\n            }\r\n          }\r\n        });\r\n        this.radioo.forEach(i => {\r\n          if (item.id == i.rcpFkQuestionOfOpinion) {\r\n            obj.questionOfOpinionId = item.id;\r\n            obj.optionOfQuestionId = i.id;\r\n          }\r\n        });\r\n        paramss.answers.push(obj);\r\n      });\r\n      console.log(paramss.answers);\r\n      this.utils.ajax({\r\n        url: this.api.saveAnswerOfOpinion,\r\n        data: paramss,\r\n        method: \"POST\",\r\n        success: data => {}\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getLeaveList(this.$route.params.id);\r\n    console.log(this.$route.params.id);\r\n  }\r\n};\r\n</script>\r\n<style  scoped>\r\np {\r\n  padding: 0.5rem;\r\n  margin: 0;\r\n}\r\n.back {\r\n  background: white;\r\n}\r\n.hader {\r\n  padding: 0.5rem 1rem;\r\n}\r\n.hader > div {\r\n  padding-left: 1rem;\r\n}\r\n.van-radio,\r\n.van-checkbox {\r\n  padding: 0.5rem 0;\r\n}\r\n.preserved {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  padding: 0.35rem 0;\r\n  border: none;\r\n  background: #1a7fe9;\r\n  text-align: center;\r\n  color: white;\r\n  font-size: 1.2rem;\r\n}\r\n.add-activity {\r\n  color: #fff;\r\n}\r\n.kong {\r\n  padding: 1rem 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/activity/questionnaire.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('van-nav-bar',{staticClass:\"header\",attrs:{\"title\":\"问卷调查\",\"right-text\":\"提交\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_vm._v(\" \"),_c('div',{staticClass:\"layout_content\"},[_c('div',{staticClass:\"back\"},_vm._l((_vm.Dateread),function(i,index){return _c('div',{staticClass:\"hader\"},[_c('p',[_vm._v(_vm._s(index+1)+\".\"+_vm._s(i.title))]),_vm._v(\" \"),(i.typeOfQuestion == 1)?_c('van-radio-group',{model:{value:(_vm.radioo[index]),callback:function ($$v) {_vm.$set(_vm.radioo, index, $$v)},expression:\"radioo[index]\"}},_vm._l((i.optionOfQuestionVOs),function(item,ind){return _c('van-radio',{key:ind,attrs:{\"name\":item}},[_vm._v(_vm._s(item.content))])}),1):_vm._e(),_vm._v(\" \"),(i.typeOfQuestion == 2)?_c('van-checkbox-group',{model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}},_vm._l((i.optionOfQuestionVOs),function(item){return _c('van-checkbox',{key:item.id,attrs:{\"name\":item}},[_vm._v(_vm._s(item.content))])}),1):_vm._e()],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"kong\"}),_vm._v(\" \"),_c('button',{staticClass:\"preserved\",on:{\"click\":function($event){return _vm.keep()}}},[_vm._v(\"保存\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09efa6e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/activity/questionnaire.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09efa6e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./questionnaire.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./questionnaire.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./questionnaire.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09efa6e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./questionnaire.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-09efa6e2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/activity/questionnaire.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}