{"version":3,"sources":["webpack:///src/view/attendance/LeaveDetail.vue","webpack:///./src/view/attendance/LeaveDetail.vue?0bb2","webpack:///./src/view/attendance/LeaveDetail.vue"],"names":["attendance_LeaveDetail","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","fixed","left-arrow","on","click-left","onClickLeft","_v","detailData","studentVO","name","value","applyDate","_l","de","_s","type","start","end","ending","span","auditStep","index","class","auditFlag","auditDate","roleName","memberName","auditColor","auditTitle","auditOpinion","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","data","desc","lis","methods","utils","goBack","getLeaveDetail","params","_this","ajax","method","url","api","queryApplyById","success","formatDate","startDate","endDate","leaveAuditSteps","forEach","item","getValueByKey","$store","state","roleList","memberRole","created","id","$route","ssrContext","__webpack_exports__"],"mappings":"6HAmEA,IChEeA,GADEC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,eAAmCE,YAAA,SAAAC,OAA4BC,MAAA,KAAAC,MAAA,GAAAC,aAAA,IAAwCC,IAAKC,aAAAZ,EAAAa,eAA8Bb,EAAAc,GAAA,KAAAV,EAAA,OAAwBE,YAAA,mBAA6BN,EAAAe,WAAA,UAAAX,EAAA,OAAuCE,YAAA,WAAqBF,EAAA,YAAiBG,OAAOC,MAAAR,EAAAe,WAAAC,UAAAC,KAAAC,MAAAlB,EAAAe,WAAAI,aAAwEnB,EAAAc,GAAA,KAAAV,EAAA,MAAuBE,YAAA,WAAsBN,EAAAoB,GAAApB,EAAA,cAAAqB,GAAgC,OAAAjB,EAAA,MAAAA,EAAA,QAA2BE,YAAA,mBAA6BN,EAAAc,GAAAd,EAAAsB,GAAAD,EAAAE,SAAAvB,EAAAc,GAAA,KAAAO,EAAA,IAAAjB,EAAA,QAA4DE,YAAA,eAAyBN,EAAAc,GAAAd,EAAAsB,GAAAtB,EAAAe,WAAAM,EAAAG,QAAA,MAAAxB,EAAAsB,GAAAtB,EAAAe,WAAAM,EAAAI,SAAArB,EAAA,QAA6FE,YAAA,eAAyBN,EAAAc,GAAAd,EAAAsB,GAAAtB,EAAAe,WAAAM,EAAAJ,OAAAjB,EAAAsB,GAAAD,EAAAK,eAAgE,GAAA1B,EAAAc,GAAA,KAAAV,EAAA,KAAyBE,YAAA,iBAA2BN,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAV,EAAA,MAAsCE,YAAA,eAAyBF,EAAA,MAAAA,EAAA,OAAqBE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,cAAwBN,EAAAc,GAAA,KAAAV,EAAA,KAAsBE,YAAA,eAAyBN,EAAAc,GAAA,KAAAV,EAAA,KAAsBE,YAAA,kBAA4BN,EAAAc,GAAAd,EAAAsB,GAAAtB,EAAAe,WAAAI,cAAAnB,EAAAc,GAAA,KAAAV,EAAA,OAAmEE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,iBAA2BN,EAAAc,GAAA,KAAAV,EAAA,OAAwBE,YAAA,gBAA0BF,EAAA,WAAAA,EAAA,WAA8BE,YAAA,MAAAC,OAAyBoB,KAAA,MAAW3B,EAAAc,GAAAd,EAAAsB,GAAAtB,EAAAe,WAAAC,UAAAC,SAAAjB,EAAAc,GAAA,KAAAV,EAAA,WAA4EE,YAAA,iBAAAC,OAAoCoB,KAAA,KAAU3B,EAAAc,GAAA,wBAAAd,EAAAc,GAAA,KAAAd,EAAAoB,GAAApB,EAAAe,WAAA,yBAAAa,EAAAC,GAA+G,OAAAzB,EAAA,MAAAA,EAAA,OAA0BE,YAAA,WAAAwB,MAAAF,EAAAG,UAAA,eAA8D3B,EAAA,KAAUE,YAAA,eAAyBN,EAAAc,GAAAd,EAAAsB,GAAAO,EAAA,QAAA7B,EAAAc,GAAA,KAAAV,EAAA,KAAkDE,YAAA,kBAA4BN,EAAAc,GAAAd,EAAAsB,GAAAM,EAAAI,cAAAhC,EAAAc,GAAA,KAAAV,EAAA,OAA8DE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,iBAA2BN,EAAAc,GAAA,KAAAV,EAAA,OAAwBE,YAAA,gBAA0BF,EAAA,OAAYE,YAAA,QAAkBN,EAAAc,GAAAd,EAAAsB,GAAAM,EAAAG,UAAA,mBAAA/B,EAAAsB,GAAAM,EAAAK,UAAA,IAAAjC,EAAAsB,GAAAM,EAAAM,YAAA,wBAAAlC,EAAAc,GAAA,KAAAV,EAAA,OAAiKE,YAAA,SAAmBF,EAAA,QAAa0B,MAAAF,EAAAO,aAA2BnC,EAAAc,GAAAd,EAAAsB,GAAAM,EAAAQ,eAAApC,EAAAc,GAAA,uBAAAd,EAAAsB,GAAAM,EAAAS,cAAA,kCAAsIrC,EAAAc,GAAA,KAAAV,EAAA,MAAAA,EAAA,OAAiCE,YAAA,oBAAAwB,MAAA,GAAA9B,EAAAe,WAAAgB,UAAA,eAAiF3B,EAAA,KAAUE,YAAA,kBAA4BN,EAAAc,GAAA,KAAAV,EAAA,OAAAJ,EAAAc,GAAA,sBAAAd,EAAAsC,QAAA,IAE58EC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,EFmDAzB,KAAA,cACA0B,KAFA,WAGA,OACA5B,cACA6B,OAEArB,KAAA,QACAN,KAAA,uBAGAM,KAAA,QACAC,MAAA,YACAC,IAAA,UACAoB,IAAA,SAGAtB,KAAA,QACAN,KAAA,SACAS,OAAA,OAGAH,KAAA,QACAN,KAAA,aAKA6B,SACAjC,YADA,WAEAZ,KAAA8C,MAAAC,OAAA/C,OAEAgD,eAJA,SAIAC,GAAA,IAAAC,EAAAlD,KACAA,KAAA8C,MAAAK,MACAC,OAAA,OACAC,IAAArD,KAAAsD,IAAAC,eACAb,KAAAO,EACAO,QAAA,SAAAd,GACAA,EAAAxB,UAAAgC,EAAAJ,MAAAW,WAAAf,EAAAxB,UAAA,oBACAwB,EAAAgB,UAAAR,EAAAJ,MAAAW,WAAAf,EAAAgB,UAAA,oBACAhB,EAAAiB,QAAAT,EAAAJ,MAAAW,WAAAf,EAAAiB,QAAA,oBACAjB,EAAAkB,gBAAAC,QAAA,SAAAC,GACAA,EAAA9B,SAAAkB,EAAAJ,MAAAiB,cAAAb,EAAAc,OAAAC,MAAAC,SAAAJ,EAAAK,YACAL,EAAA3B,WAAA2B,EAAAhC,UAAA,GAAAgC,EAAAhC,UAAA,qBACAgC,EAAA5B,WAAA4B,EAAAhC,UAAA,GAAAgC,EAAAhC,UAAA,mBAEAoB,EAAApC,WAAA4B,OAKA0B,QAnDA,WAoDApE,KAAAgD,gBAAAqB,GAAArE,KAAAsE,OAAArB,OAAAoB,OEpGExE,GATF,EAVA,SAAA0E,GACE/B,EAAQ,SAaV,kBAEA,MAUegC,EAAA,QAAAjC,EAAiB","file":"static/js/30.02fff333d414f9fd2c9f.js","sourcesContent":["<template>\n  <div>\n    <van-nav-bar title=\"详情\" class=\"header\" fixed left-arrow @click-left=\"onClickLeft\"/>\n\n    <div class=\"layout_content\">\n      <div class=\"detail\" v-if=\"detailData.studentVO\">\n        <van-cell :title=\"detailData.studentVO.name\" :value=\"detailData.applyDate\"/>\n        <ul class=\"leaveUl\">\n          <li v-for=\"de in desc\">\n            <span class=\"gray leftTitle\">{{de.type}}</span>\n            <span class=\"rightTitle\" v-if=\"de.lis\">{{detailData[de.start]}} ~ {{detailData[de.end]}}</span>\n            <span class=\"rightTitle\" v-else>{{detailData[de.name]}}{{de.ending}}</span>\n          </li>\n        </ul>\n\n        <p class=\"gray p9 step\">进度</p>\n\n        <ul class=\"leaveSteps\">\n          <li>\n            <div class=\"stepWarp audited\">\n              <div class=\"firstStep\"></div>\n              <p class=\"m0 stepNum\"></p>\n              <p class=\"gray stepTime\">{{detailData.applyDate}}</p>\n              <div class=\"relative\">\n                <div class=\"leftTriangle\"></div>\n                <div class=\"stepContent\">\n                  <van-row>\n                    <van-col :span=\"18\" class=\"lh2\">{{detailData.studentVO.name}}</van-col>\n                    <van-col :span=\"6\" class=\"gray textR lh2\">发起申请</van-col>\n                  </van-row>\n                </div>\n              </div>\n            </div>\n          </li>\n\n          <li v-for=\"(auditStep, index) in detailData.leaveAuditSteps\">\n            <div class=\"stepWarp\" :class=\"auditStep.auditFlag?'audited':''\">\n              <p class=\"m0 stepNum\">{{index-0+1}}</p>\n              <p class=\"gray stepTime\">{{auditStep.auditDate}}</p>\n              <div class=\"relative\">\n                <div class=\"leftTriangle\"></div>\n                <div class=\"stepContent\">\n                  <div class=\"lh2\">{{auditStep.auditFlag?\"处理人\":\"等待处理人\"}}：{{auditStep.roleName}} {{auditStep.memberName}}\n                  </div>\n                  <div class=\"gray\"><span :class=\"auditStep.auditColor\">{{auditStep.auditTitle}}</span>\n                    {{auditStep.auditOpinion}}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n\n          <li>\n            <div class=\"stepWarp endAudit\" :class=\"detailData.auditFlag == 1?'audited':''\">\n              <p class=\"m0 endStepNum\"></p>\n              <div>审批结束</div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  // 请假详情\n  export default {\n    name: \"LeaveDetail\",\n    data() {\n      return {\n        detailData: {},\n        desc: [\n          {\n            type: \"请假类型：\",\n            name: \"attendanceTypeName\"\n          },\n          {\n            type: \"请假时间：\",\n            start: \"startDate\",\n            end: \"endDate\",\n            lis: \"more\"\n          },\n          {\n            type: \"请假天数：\",\n            name: \"dayNum\",\n            ending: \" 天\"\n          },\n          {\n            type: \"请假原因：\",\n            name: \"reason\"\n          }\n        ]\n      };\n    },\n    methods: {\n      onClickLeft() {\n        this.utils.goBack(this);\n      },\n      getLeaveDetail(params) {\n        this.utils.ajax({\n          method: \"POST\",\n          url: this.api.queryApplyById,\n          data: params,\n          success: data => {\n            data.applyDate = this.utils.formatDate(data.applyDate, \"yyyy-MM-dd HH:mm\");\n            data.startDate = this.utils.formatDate(data.startDate, \"yyyy-MM-dd HH:mm\");\n            data.endDate = this.utils.formatDate(data.endDate, \"yyyy-MM-dd HH:mm\");\n            data.leaveAuditSteps.forEach(item => {\n              item.roleName = this.utils.getValueByKey(this.$store.state.roleList, item.memberRole);\n              item.auditTitle = item.auditFlag ? (item.auditFlag == 1 ? \"审核通过\" : \"审核不通过\") : \"未审核\";\n              item.auditColor = item.auditFlag ? (item.auditFlag == 1 ? \"green\" : \"red\") : \"\";\n            });\n            this.detailData = data;\n          }\n        });\n      }\n    },\n    created() {\n      this.getLeaveDetail({ id: this.$route.params.id });\n    }\n  };\n</script>\n\n<style scoped>\n  .detail .van-cell {\n    background: #419efd;\n    color: #fff;\n  }\n\n  .detail .van-cell__value {\n    color: #fff;\n  }\n\n  .leaveUl {\n    padding: .5rem .9rem;\n    background: #fff;\n  }\n\n  .leaveUl li {\n    padding: .2rem 0;\n  }\n\n  .step {\n    font-size: 1rem;\n    margin: .5rem 0 0;\n  }\n\n  .leaveSteps {\n    padding-bottom: 3rem;\n  }\n\n  .leaveSteps li {\n    padding: 0 .9rem;\n  }\n\n  .stepWarp {\n    padding: .8rem 0 .8rem 1.6rem;\n    border-left: 1px solid #ccc;\n    position: relative;\n    margin-left: .8rem;\n  }\n\n  .audited {\n    border-color: #419efd;\n  }\n\n  .firstStep {\n    position: absolute;\n    top: 0;\n    left: -1px;\n    width: 1px;\n    height: 50%;\n    z-index: 11;\n    background-color: #f0f0f0;\n  }\n\n  .stepNum {\n    top: 50%;\n  }\n\n  .stepTime {\n    text-align: right;\n    margin: 0;\n    height: 1rem;\n  }\n\n  .stepNum, .endStepNum {\n    width: 1rem;\n    height: 1rem;\n    border-radius: 50%;\n    background: #ccc;\n    position: absolute;\n    left: -.5rem;\n    color: #fff;\n    line-height: 1rem;\n    text-align: center;\n    font-size: .6rem;\n  }\n\n  .endAudit {\n    padding: 0 0 0 1.6rem;\n  }\n\n  .endStepNum {\n    bottom: 0;\n  }\n\n  .audited .stepNum, .audited .endStepNum {\n    background: #419efd;\n  }\n\n  .leftTriangle {\n    position: absolute;\n    top: 50%;\n    left: -.4rem;\n    margin-top: -.5rem;\n    width: 0;\n    height: 0;\n    border-top: .5rem solid transparent;\n    border-bottom: .5rem solid transparent;\n    border-right: .5rem solid #fff;\n  }\n\n  .stepContent {\n    background: #fff;\n    width: 100%;\n    min-height: 3rem;\n    padding: 0.5rem;\n    box-sizing: border-box;\n    border-radius: .5rem;\n  }\n\n  .endAudit div {\n    padding: 0 0 0 .5rem;\n  }\n\n  .leftTitle {\n    width: 22%;\n    display: inline-block;\n    vertical-align: top;\n  }\n\n  .rightTitle {\n    word-wrap: break-word;\n    width: 75%;\n    display: inline-block;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/attendance/LeaveDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticClass:\"header\",attrs:{\"title\":\"详情\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"layout_content\"},[(_vm.detailData.studentVO)?_c('div',{staticClass:\"detail\"},[_c('van-cell',{attrs:{\"title\":_vm.detailData.studentVO.name,\"value\":_vm.detailData.applyDate}}),_vm._v(\" \"),_c('ul',{staticClass:\"leaveUl\"},_vm._l((_vm.desc),function(de){return _c('li',[_c('span',{staticClass:\"gray leftTitle\"},[_vm._v(_vm._s(de.type))]),_vm._v(\" \"),(de.lis)?_c('span',{staticClass:\"rightTitle\"},[_vm._v(_vm._s(_vm.detailData[de.start])+\" ~ \"+_vm._s(_vm.detailData[de.end]))]):_c('span',{staticClass:\"rightTitle\"},[_vm._v(_vm._s(_vm.detailData[de.name])+_vm._s(de.ending))])])}),0),_vm._v(\" \"),_c('p',{staticClass:\"gray p9 step\"},[_vm._v(\"进度\")]),_vm._v(\" \"),_c('ul',{staticClass:\"leaveSteps\"},[_c('li',[_c('div',{staticClass:\"stepWarp audited\"},[_c('div',{staticClass:\"firstStep\"}),_vm._v(\" \"),_c('p',{staticClass:\"m0 stepNum\"}),_vm._v(\" \"),_c('p',{staticClass:\"gray stepTime\"},[_vm._v(_vm._s(_vm.detailData.applyDate))]),_vm._v(\" \"),_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"leftTriangle\"}),_vm._v(\" \"),_c('div',{staticClass:\"stepContent\"},[_c('van-row',[_c('van-col',{staticClass:\"lh2\",attrs:{\"span\":18}},[_vm._v(_vm._s(_vm.detailData.studentVO.name))]),_vm._v(\" \"),_c('van-col',{staticClass:\"gray textR lh2\",attrs:{\"span\":6}},[_vm._v(\"发起申请\")])],1)],1)])])]),_vm._v(\" \"),_vm._l((_vm.detailData.leaveAuditSteps),function(auditStep,index){return _c('li',[_c('div',{staticClass:\"stepWarp\",class:auditStep.auditFlag?'audited':''},[_c('p',{staticClass:\"m0 stepNum\"},[_vm._v(_vm._s(index-0+1))]),_vm._v(\" \"),_c('p',{staticClass:\"gray stepTime\"},[_vm._v(_vm._s(auditStep.auditDate))]),_vm._v(\" \"),_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"leftTriangle\"}),_vm._v(\" \"),_c('div',{staticClass:\"stepContent\"},[_c('div',{staticClass:\"lh2\"},[_vm._v(_vm._s(auditStep.auditFlag?\"处理人\":\"等待处理人\")+\"：\"+_vm._s(auditStep.roleName)+\" \"+_vm._s(auditStep.memberName)+\"\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"gray\"},[_c('span',{class:auditStep.auditColor},[_vm._v(_vm._s(auditStep.auditTitle))]),_vm._v(\"\\n                  \"+_vm._s(auditStep.auditOpinion)+\"\\n                \")])])])])])}),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"stepWarp endAudit\",class:_vm.detailData.auditFlag == 1?'audited':''},[_c('p',{staticClass:\"m0 endStepNum\"}),_vm._v(\" \"),_c('div',[_vm._v(\"审批结束\")])])])],2)],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-659fc9fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/attendance/LeaveDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-659fc9fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LeaveDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LeaveDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LeaveDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-659fc9fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LeaveDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-659fc9fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/attendance/LeaveDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}