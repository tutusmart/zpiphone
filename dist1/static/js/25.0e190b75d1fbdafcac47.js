webpackJsonp([25],{"/xur":function(e,t){},s9oZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-nav-bar",{staticClass:"header",attrs:{title:e.title,"right-text":e.rightText,fixed:"","left-arrow":""},on:{"click-left":e.onClickLeft,"click-right":e.cellSelected}}),e._v(" "),a("div",{staticClass:"layout_content bgWhite"},[a("div",[e.notOther?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.table.title)+" "),a("span",{staticClass:"a"},[e._v(e._s(e.table.data.length))]),e._v(" 条活动")]),e._v(" "),e.notOther?a("p",{staticClass:"title-disease-skill"},[a("span",[e._v(e._s(e.table.title))]),a("span",[e._v(e._s(e.name))]),a("span")]):e._e()]),e._v(" "),a("div",{staticClass:"thead"},[a("van-row",e._l(e.table.theader,function(t){return a("div",["checkedbox"!=t.type?a("p",{staticClass:"van-ellipsis center taboy"},[e._v(e._s(t.value))]):e._e(),e._v(" "),"checkedbox"==t.type?a("p",{staticClass:"van-ellipsis center taboy"},[e._v("请选择")]):e._e()])}),0)],1),e._v(" "),a("div",e._l(e.table.theader,function(t){return a("div",{staticClass:"w25"},e._l(e.table.data,function(i){return a("div",["checkedbox"!=t.type?a("p",{staticClass:"van-ellipsis center taboy",on:{click:function(t){return e.cellSelected(i)}}},[e._v("\n              "+e._s(e.returnInnerHtml(i,t.name,t)))]):e._e(),e._v(" "),"checkedbox"==t.type?a("p",{staticClass:"van-ellipsis center taboy"},[a("van-icon",{staticClass:"icon",attrs:{name:"checked",color:i.checked?"#397de8":"#cdcdcd"},on:{click:function(t){return e.clickCheckbox(i)}}})],1):e._e()])}),0)}),0)])],1)},staticRenderFns:[]};var n=a("VU/8")({name:"OtherRotation",data:function(){return{otherField:{11:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"heading",value:"查房名称"},{name:"speaker",value:"主讲人"}],13:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"location",value:"学习地点"},{name:"content",value:"课外学习"}],14:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"content",value:"获奖内容"},{name:"awardDepartment",value:"奖励部门"}],15:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"heading",value:"讲座名称"},{name:"location",value:"地点"}],16:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"heading",value:"讨论主题"},{name:"location",value:"地点"}],17:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"heading",value:"讨论主题"},{name:"location",value:"地点"}],18:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"heading",value:"会诊名称"},{name:"location",value:"地点"}],19:[{name:"departmentName",value:"轮转科室"},{name:"heading",value:"科研名称"},{name:"principal",value:"带头人"},{name:"joinRoleName",value:"参与角色"}],20:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"heading",value:"论文名称"},{name:"publications",value:"发表刊物"}],21:[{name:"departmentName",value:"轮转科室"},{name:"date",value:"日期"},{name:"guideWayName",value:"指导方式"},{name:"content",value:"指导内容"}],diseaseAndSkill:[{name:"patientName",value:"病人姓名"},{name:"admissionNumber",value:"编号"},{name:"isTubeBed",value:"是否管床",type:"select"},{name:"auditFlag",value:"审核状态",type:"select"}]},table:{title:"",theader:[],data:[]},notOther:!1,name:"",title:"",color:"#cdcdcd",rightText:"新增"}},methods:{onClickLeft:function(){"管理"==this.rightText||"新增"==this.rightText?this.utils.goBack(this):"删除"==this.rightText&&(this.rightText="管理",this.table.theader=this.table.theader.splice(1,4))},returnInnerHtml:function(e,t,a){return"select"==a.type?"1"==e[t]?"是":"否":e[t]},getData:function(e){var t=this;this.table.theader=this.otherField[e],this.table.title=this.utils.getValueByKey(this.$store.state.other,e),this.title="其他轮转";var a=this.api.queryOtherRotation,i={twoLevelType:e,currTime:this.$store.state.currentDepartment.endDate};if("disease"==e||"skill"==e){var n="";this.$route.params.code?(n=this.$route.params.code,this.$store.state.registerCode=n):n=this.$store.state.registerCode,a=this.api.queryDiseaseList,this.notOther=!0,this.name=this.$route.params.name,i={currTime:this.$store.state.currentDepartment.endDate,diseaseCode:n},this.rightText="管理","disease"==e?(this.title="病种",this.table.title="病种名称",i.type="1"):(this.title="技能",this.table.title="技能名称",i.type="2"),this.table.theader=this.otherField.diseaseAndSkill}var s=[{value:"第一研究员",key:6},{value:"第二研究员",key:7},{value:"第三研究员",key:8},{value:"第四研究员",key:9},{value:"第五研究员",key:10},{value:"第六研究员",key:11}],l=[{value:"座谈",key:1},{value:"工作汇报",key:2},{value:"读书报告",key:3},{value:"科研论文指导",key:4},{value:"病案讨论",key:5},{value:"临床技能指导",key:6},{value:"人文指导",key:7},{value:"其他",key:8}],r=this;this.utils.ajax({url:a,data:i,method:"POST",success:function(a){a.forEach(function(t){t.date=t.date.split(" ")[0],t.checked=!1,19==e?t.joinRoleName=r.utils.getValueByKey(s,t.joinRole):21==e&&(t.guideWayName=r.utils.getValueByKey(l,t.guideWay))}),t.table.data=a}})},clickCheckbox:function(e){e.checked=!e.checked},cellSelected:function(e){var t=this;if(e.twoLevelType)return this.$store.state.EditRegisterNum=""+e.twoLevelType,this.$store.state.EditRegisterObj=e,void this.$router.push({name:"EditRegister"});if("新增"==this.rightText)this.$route.params.name&&(this.$store.state.EditRegisterNum=""+this.$route.params.name),this.$router.push({name:"EditRegister"});else if("管理"==this.rightText)this.rightText="删除",this.table.theader=[{type:"checkedbox"}].concat(this.table.theader);else if("删除"==this.rightText){var a=[];this.table.data.forEach(function(e){e.checked&&a.push(e.id)}),a.length>0?this.Dialog.confirm({title:"提示",message:"删除后病历信息将不存在,确认删除？"}).then(function(){t.utils.ajax({url:t.api.removeRegster,method:"post",data:{ids:a},success:function(e){t.Toast("删除成功"),t.utils.goBack(t)}})}).catch(function(){}):this.Toast("请选择数据")}}},created:function(){this.getData(this.$route.query.type)}},i,!1,function(e){a("/xur")},"data-v-7a4db4ee",null);t.default=n.exports}});
//# sourceMappingURL=25.0e190b75d1fbdafcac47.js.map