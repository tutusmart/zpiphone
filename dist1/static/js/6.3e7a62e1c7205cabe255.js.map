{"version":3,"sources":["webpack:///./src/assets/images/home/pic20190424.jpg","webpack:///src/components/HomeMenu.vue","webpack:///./src/components/HomeMenu.vue?0810","webpack:///./src/components/HomeMenu.vue","webpack:///src/components/HomeRotation.vue","webpack:///./src/components/HomeRotation.vue?73b9","webpack:///./src/components/HomeRotation.vue","webpack:///src/components/HomeActive.vue","webpack:///./src/components/HomeActive.vue?853d","webpack:///./src/components/HomeActive.vue","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?aaf4","webpack:///./src/components/Home.vue"],"names":["module","exports","__webpack_require__","p","components_HomeMenu","render","_vm","this","_h","$createElement","_c","_self","_l","staticClass","_v","_s","title","rows","index","style","left","leftFn","on","click","$event","href","class","icon","name","_e","staticRenderFns","HomeRotation","data","showPivot","rotationDetail","departmentName","rotationTime","startTime","endTime","totalDays","outDepartment","entry","teacherName","daysText","enrollmentStatistics","otherNum","percentageDiseases","percentageSkill","methods","getRotation","_this","params","studentId","$store","state","userInfo","human","caId","curDepartmentTime","currTime","endDate","utils","ajax","method","url","api","homeRotation","success","currentDepartment","phoneMyCycleInfo","normalDepartmentId","departmentCaId","curData","timestamp","formatDate","startDate","future","getTime","pastTimes","Math","ceil","entryStatus","toFixed","split","entryText","error","Toast","viewRotation","$router","push","viewRegister","bgColor","created","components_HomeRotation","attrs","is-link","value","span","background","show-pivot","color","percentage","HomeActive","loading","finished","currentPage","finishedMsg","activityList","activityPager","teaching","onLoad","length","homeActivity","pageSize","flagOfRelease","isStart","isSignUp","joinFlags","content","forEach","item","time","replace","signInDate","Date","totalPages","_error","activityView","list","activitiesDetailsObj","id","condition","memberCaId","components_HomeActive","to","error-text","finished-text","immediate-check","offset","update:error","load","model","callback","$$v","expression","activityItem","Home","components","HomeMenu","normalizeComponent","hrefData","type","path","query","webApp","WebCallApp","jumpAdress","getCookie","i","props","ssrContext","HomeRotation_normalizeComponent","HomeActive_normalizeComponent","currentName","isJump","show","isTourist","rolesShow","showModel","isLoading","refreshText","columns","modules","login","result","touristsState","getUserInfo","departmentList","getDepartmentList","_this2","console","log","roleCodes","roleVOs","code","roleList","indexOf","key","obj","text","currentRole","getValueByKey","catch","onError","changeRole","curRole","_this3","roleCode","showChangeList","hideMask","onRefresh","err","_this4","mask","message","duration","setTimeout","clear","window","location","refresh","_this5","queryAllDepartments","components_Home","fixed","border","src","arrow-direction","lis","$set","Home_Component","Home_normalizeComponent","__webpack_exports__"],"mappings":"iFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,8ICiBxC,ICdeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,QAAAI,EAAA,MAAAJ,EAAAM,GAAAN,EAAA,iBAAAN,GAAoE,OAAAU,EAAA,OAAiBG,YAAA,WAAqBH,EAAA,OAAYG,YAAA,iBAA2BP,EAAAQ,GAAAR,EAAAS,GAAAf,EAAAgB,UAAAV,EAAAQ,GAAA,KAAAJ,EAAA,OAAuDG,YAAA,WAAsBP,EAAAM,GAAAZ,EAAA,iBAAAiB,EAAAC,GAA8C,OAAAR,EAAA,OAAiBG,YAAA,YAAAM,OAAgCC,KAAAd,EAAAe,OAAAH,IAAwBI,IAAMC,MAAA,SAAAC,GAAyB,OAAAlB,EAAAmB,KAAAR,OAAwBP,EAAA,KAAUgB,MAAAT,EAAAU,OAAgBrB,EAAAQ,GAAA,KAAAJ,EAAA,QAAAJ,EAAAQ,GAAAR,EAAAS,GAAAE,EAAAW,aAAuD,OAAO,GAAAtB,EAAAuB,MAE5iBC,oBCCjB,IC+CAC,GACAH,KAAA,eACAI,KAFA,WAGA,OACAC,WAAA,EACAC,gBACAC,eAAA,GACAC,aAAA,GACAC,UAAA,GACAC,QAAA,GACAC,UAAA,EACAC,cAAA,EACAC,MAAA,EACAC,YAAA,IAEAC,SAAA,OACAC,sBACAC,SAAA,EACAC,mBAAA,EACAC,gBAAA,KAIAC,SACAC,YADA,WACA,IAAAC,EAAA3C,KAEA4C,GACAC,UAAA7C,KAAA8C,OAAAC,MAAAC,SAAAC,MAAAC,MAEAlD,KAAA8C,OAAAC,MAAAI,oBACAP,EAAAQ,SAAApD,KAAA8C,OAAAC,MAAAI,kBAAAE,SAEArD,KAAAsD,MAAAC,MACAC,OAAA,OACAC,IAAAzD,KAAA0D,IAAAC,aACAlC,KAAAmB,EACAgB,QAAA,SAAAnC,GAOA,GANAkB,EAAAG,OAAAC,MAAAc,kBAAApC,EAAAqC,iBACArC,EAAAY,uBACAM,EAAAN,qBAAAZ,EAAAY,qBACAM,EAAAG,OAAAC,MAAAc,kBAAAE,mBAAAtC,EAAAY,qBAAA0B,mBACApB,EAAAG,OAAAC,MAAAc,kBAAAG,eAAAvC,EAAAY,qBAAA2B,gBAEAvC,EAAAqC,iBAAA,CACA,IAAAG,EAAAxC,EAAAqC,iBACAI,EAAAvB,EAAAW,MAAAa,WAAAxB,EAAAG,OAAAC,MAAAmB,UAAA,cAEAD,EAAAG,UAAAzB,EAAAW,MAAAa,WAAAF,EAAAnC,UAAA,cACAmC,EAAAZ,QAAAV,EAAAW,MAAAa,WAAAF,EAAAlC,QAAA,cACA,IAAAsC,EAAA1B,EAAAW,MAAAgB,QAAAJ,IAAAvB,EAAAW,MAAAgB,QAAAL,EAAAnC,WACAyC,EAAA5B,EAAAW,MAAAgB,QAAAJ,IAAAvB,EAAAW,MAAAgB,QAAAL,EAAAlC,SACAsC,GAAAE,GACAN,EAAAhC,cAAAuC,KAAAC,MAAA9B,EAAAW,MAAAgB,QAAAL,EAAAlC,SAAAY,EAAAW,MAAAgB,QAAAL,EAAAnC,YANA,OAOAuC,GACAJ,EAAA/B,MAAA,EACA+B,EAAAS,YAAA,IAEAT,EAAA/B,MAAA,IACA+B,EAAAS,YAAA,GAEA/B,EAAAP,SAAA,SAEA6B,EAAAjC,WAAAW,EAAAW,MAAAgB,QAAAL,EAAAZ,SAAAV,EAAAW,MAAAgB,QAAAL,EAAAG,YAhBA,MAiBAH,EAAAhC,eAAAU,EAAAW,MAAAgB,QAAAL,EAAAZ,SAAAV,EAAAW,MAAAgB,QAAAJ,IAjBA,MAkBAD,EAAA/B,QAAA+B,EAAAjC,UAAAiC,EAAAhC,eAAAgC,EAAAjC,UAAA,KAAA2C,QAAA,KACAhC,EAAAP,SAAA,QAEA6B,EAAAnC,YACAmC,EAAApC,aAAAoC,EAAAG,UAAA,IAAAH,EAAAZ,SAEAY,EAAA9B,YAAA8B,EAAA9B,YAAAyC,MAAA,QACAX,EAAAY,UAAAZ,EAAAS,YAAA,IAAAT,EAAAS,YAAA,kBACA/B,EAAAhB,eAAAsC,IAGAa,MAAA,SAAArD,GACAkB,EAAAG,OAAAC,MAAAc,kBAAA,KACAlB,EAAAoC,MAAAtD,EAAAqD,WAIAE,aA1DA,WA2DAhF,KAAAiF,QAAAC,MAAA7D,KAAA,kBAEA8D,aA7DA,WA8DAnF,KAAAiF,QAAAC,MAAA7D,KAAA,wBAEA+D,QAhEA,SAgEA3D,GACA,WAAAA,EAAAiD,YAAA,UAAAjD,EAAAiD,YAAA,eAGAW,QA3FA,WA4FArF,KAAA0C,gBC3Ie4C,GADExF,OAFP,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBG,YAAA,oBAA8BH,EAAA,YAAiBoF,OAAO9E,MAAA,OAAA+E,UAAA,GAAAC,MAAA,QAA2C1E,IAAKC,MAAAjB,EAAAiF,gBAA0BjF,EAAAQ,GAAA,KAAAJ,EAAA,WAAAA,EAAA,WAA0CoF,OAAOG,KAAA,QAAavF,EAAA,OAAYG,YAAA,uBAAiCH,EAAA,OAAYG,YAAA,eAAyBP,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA4B,eAAAC,gBAAA,gBAAAzB,EAAA,QAA8EG,YAAA,aAAAM,OAAiC+E,WAAA5F,EAAAqF,QAAArF,EAAA4B,mBAA8C5B,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA4B,eAAAkD,gBAAA9E,EAAAQ,GAAA,KAAAJ,EAAA,OAAyEG,YAAA,4BAAsCP,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA4B,eAAAE,iBAAA9B,EAAAQ,GAAA,KAAAJ,EAAA,OAA0EG,YAAA,aAAuBH,EAAA,KAAAA,EAAA,QAAAJ,EAAAQ,GAAAR,EAAAS,GAAAT,EAAAqC,eAAAjC,EAAA,OAAgEG,YAAA,SAAmBH,EAAA,QAAAJ,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA4B,eAAAM,kBAAAlC,EAAAQ,GAAA,OAAAR,EAAAQ,GAAA,KAAAJ,EAAA,OAAAJ,EAAAQ,GAAA,KAAAJ,EAAA,KAAAA,EAAA,gBAA2IoF,OAAOK,aAAA7F,EAAA2B,UAAAmE,MAAA,8CAAAC,WAAA/F,EAAA4B,eAAAO,UAAwH,GAAAnC,EAAAQ,GAAA,KAAAJ,EAAA,OAAAJ,EAAAQ,GAAA,QAAAR,EAAAS,GAAAT,EAAA4B,eAAAQ,oBAAApC,EAAAQ,GAAA,KAAAJ,EAAA,WAAmHoF,OAAOG,KAAA,QAAavF,EAAA,OAAYG,YAAA,kBAAAS,IAAkCC,MAAAjB,EAAAoF,gBAA0BhF,EAAA,OAAYG,YAAA,WAAqBP,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAJ,EAAA,KAAAA,EAAA,OAAiDG,YAAA,QAAkBP,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAJ,EAAA,OAAAA,EAAA,gBAA0DoF,OAAOK,aAAA7F,EAAA2B,UAAAmE,MAAA,8CAAAC,WAAA/F,EAAAsC,qBAAAE,uBAA2I,GAAAxC,EAAAQ,GAAA,KAAAJ,EAAA,KAAAJ,EAAAQ,GAAA,KAAAJ,EAAA,KAAAA,EAAA,OAAwDG,YAAA,QAAkBP,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAJ,EAAA,OAAAA,EAAA,gBAA0DoF,OAAOK,aAAA7F,EAAA2B,UAAAmE,MAAA,8CAAAC,WAAA/F,EAAAsC,qBAAAG,oBAAwI,GAAAzC,EAAAQ,GAAA,KAAAJ,EAAA,KAAAJ,EAAAQ,GAAA,KAAAJ,EAAA,OAAgDG,YAAA,mBAA6BP,EAAAQ,GAAA,SAAAJ,EAAA,QAAAJ,EAAAQ,GAAAR,EAAAS,GAAAT,EAAAsC,qBAAAC,UAAA,sBAEn4Df,oBCChC,ICyBAwE,GACA1E,KAAA,aACAI,KAFA,WAGA,OACAuE,SAAA,EACAC,UAAA,EACAnB,OAAA,EACAoB,YAAA,EACAC,YAAA,QACAC,gBACAC,iBACAC,SAAA,sBAGA7D,SACA8D,OADA,WACA,IAAA5D,EAAA3C,KAEAA,KAAAkG,YAAA1B,KAAAC,KAAAzE,KAAAoG,aAAAI,OAAA,KAEAxG,KAAAsD,MAAAC,MACAC,OAAA,OACAC,IAAAzD,KAAA0D,IAAA+C,aACAhF,MACAyE,YAAAlG,KAAAkG,YACAQ,SAAA,EACAC,cAAA,EACAC,QAAA,EACAC,SAAA,EACAC,WAAA,MAEAlD,QAAA,SAAAnC,GACAkB,EAAAwD,YAAA,QACAxD,EAAA0D,cAAA5E,EACAA,EAAAsF,QAAAP,OACA/E,EAAAsF,QAAAC,QAAA,SAAAC,GACA,OAAAA,EAAAJ,SAAA,CACA,IAAAK,EAAAD,EAAAnF,UAAAqF,QAAA,UACAF,EAAAG,WAAAzE,EAAAW,MAAAa,WAAA,IAAAkD,KAAAH,GAAA5C,UAAA,gBAEA2C,EAAAG,WAAA,OAEAH,EAAAnF,UAAAa,EAAAW,MAAAa,WAAA8C,EAAAnF,WACAmF,EAAAlF,QAAAY,EAAAW,MAAAa,WAAA8C,EAAAlF,SACAY,EAAAyD,aAAAlB,KAAA+B,KAGAtE,EAAAwD,YAAA,OAGAxD,EAAAqD,SAAA,EAEArD,EAAAuD,aAAAvD,EAAA0D,cAAAiB,aACA3E,EAAAsD,UAAA,IAGAnB,MAAA,SAAAyC,GACA5E,EAAAqD,SAAA,EACArD,EAAAmC,OAAA,KAEA,IAEA0C,aA/CA,SA+CAC,GACAzH,KAAA8C,OAAAC,MAAA2E,sBAAAC,GAAAF,EAAAE,GAAAC,UAAA5H,KAAAsG,SAAAuB,WAAAJ,EAAAI,YACA7H,KAAAiF,QAAAC,MAAA7D,KAAA,yBCxFeyG,GADEhI,OAFP,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBG,YAAA,aAAuBH,EAAA,YAAiBoF,OAAO9E,MAAA,OAAAgF,MAAA,OAAAD,UAAA,GAAAuC,GAAA,wBAAsEhI,EAAAQ,GAAA,KAAAJ,EAAA,YAA6BoF,OAAOU,SAAAlG,EAAAkG,SAAAnB,MAAA/E,EAAA+E,MAAAkD,aAAA,cAAAC,gBAAAlI,EAAAoG,YAAA+B,kBAAA,GAAAC,OAAA,IAAsIpH,IAAKqH,eAAA,SAAAnH,GAAgClB,EAAA+E,MAAA7D,GAAiBoH,KAAAtI,EAAAwG,QAAmB+B,OAAQ7C,MAAA1F,EAAA,QAAAwI,SAAA,SAAAC,GAA6CzI,EAAAiG,QAAAwC,GAAgBC,WAAA,aAAuBtI,EAAA,OAAYG,YAAA,iBAA2BH,EAAA,KAAAJ,EAAAM,GAAAN,EAAA,sBAAA2I,GAA2D,OAAAvI,EAAA,MAAgBY,IAAIC,MAAA,SAAAC,GAAyB,OAAAlB,EAAAyH,aAAAkB,OAAwCvI,EAAA,OAAYG,YAAA,mBAA6BP,EAAAQ,GAAAR,EAAAS,GAAAkI,EAAAjI,UAAAV,EAAAQ,GAAA,KAAAJ,EAAA,KAA2DG,YAAA,kBAA4BP,EAAAQ,GAAA,SAAAR,EAAAS,GAAAkI,EAAAtB,eAAArH,EAAAQ,GAAA,KAAAJ,EAAA,KAAyEG,YAAA,kBAA4BP,EAAAQ,GAAA,SAAAR,EAAAS,GAAAkI,EAAA5G,WAAA,MAAA/B,EAAAS,GAAAkI,EAAA3G,gBAAyF,YAEngCR,oBCChC,ICqCAoH,GACAtH,KAAA,OACAuH,YACAC,SPxCyBlJ,EAAQ,OAcjCmJ,EFCAzH,KAAA,WACAuH,cACAnH,KAHA,WAIA,UAEAgB,SACAvB,KADA,SACA6H,GACA,IAAAC,EAAAD,EAAAC,KACA,WAAAA,EACAhJ,KAAAiF,QAAAC,MAAA7D,KAAA0H,EAAAE,KAAAC,MAAAH,EAAAG,MAAAtG,OAAAmG,EAAAnG,SACA,UAAAoG,EACAhJ,KAAA+E,MAAA,WACA,aAAAiE,GAGAhJ,KAAAmJ,OAAAC,WAAA,cAAA3F,IAAAzD,KAAA8C,OAAAC,MAAAsG,WAAAN,EAAA,gBAAA/I,KAAAsD,MAAAgG,UAAA,qBAGAxI,OAbA,SAaAyI,GACA,UAAAA,EAAA,MAGAlE,QAvBA,aA0BAmE,OAAA,YExBE3J,GATF,EAVA,SAAA4J,GACE9J,EAAQ,SAaV,kBAEA,MAUgC,QOkBhC6B,aJzCyB7B,EAAQ,OAcjB+J,CACdlI,EACA8D,GAT6B,EAV/B,SAAoBmE,GAClB9J,EAAQ,SAaS,kBAEU,MAUG,QImBhCoG,WD1CyBpG,EAAQ,OAcjBgK,CACd5D,EACA+B,GAT6B,EAV/B,SAAoB2B,GAClB9J,EAAQ,SAaS,kBAEU,MAUG,SCqBhC8B,KAPA,WAQA,OACAmI,YAAA,GACAC,QAAA,EACA7G,YACA8G,MAAA,EACAC,WAAA,EACAC,WAAA,EACAC,WAAA,EACAC,WAAA,EACAC,aAAA,EACAC,WACAC,aAGA5H,SACA6H,MADA,WACA,IAAA3H,EAAA3C,KAEAA,KAAAmJ,OAAAC,WAAA,4BAAAmB,GACA,KAAAA,SAAAC,cACA7H,EAAAoH,WAAA,EAEApH,EAAA8H,gBAoBAzK,KAAA8C,OAAAC,MAAA2H,gBACA1K,KAAA2K,qBAGAF,YA/BA,WA+BA,IAAAG,EAAA5K,KACAA,KAAAsD,MAAAC,MACAC,OAAA,OACAC,IAAAzD,KAAA0D,IAAAV,SACAY,QAAA,SAAAnC,GACAoJ,QAAAC,IAAArJ,EAAA,SAEAmJ,EAAA9H,OAAAC,MAAAC,SAAAvB,EACAmJ,EAAA5H,SAAAvB,EACAmJ,EAAAR,WACA,IAAAW,KACAtJ,EAAAuJ,QAAAhE,QAAA,SAAAiE,GAAA,OAAAF,EAAA7F,KAAA+F,UACAL,EAAA9H,OAAAC,MAAAmI,SAAAlE,QAAA,SAAAC,GACA,GAAA8D,EAAAI,QAAAlE,EAAAmE,MAAA,GACA,IAAAC,GACAD,IAAAnE,EAAAmE,IACAE,KAAArE,EAAAxB,OAEAmF,EAAAR,QAAAlF,KAAAmG,MAGAR,QAAAC,IAAAF,EAAA5H,SAAAuI,YAAAN,KAAA,QAEAL,EAAAhB,YAAAgB,EAAAtH,MAAAkI,cAAAZ,EAAA9H,OAAAC,MAAAmI,SAAAN,EAAA5H,SAAAuI,YAAAN,MACAL,EAAAP,QAAAO,EAAA9H,OAAAC,MAAA6H,EAAA5H,SAAAuI,YAAAN,KAAA,WACAL,EAAAZ,UAAA,YAAAY,EAAA5H,SAAAuI,YAAAN,KACAL,EAAAX,WAAA,EACAW,EAAAV,WAAA,EACAU,EAAAT,aAAA,GAEArF,MAAA9E,KAAAqJ,WACAoC,MAAAzL,KAAA0L,UACA,IAEAC,WAjEA,SAiEAC,GAAA,IAAAC,EAAA7L,KACAA,KAAA8J,MAAA,EACA9J,KAAAsD,MAAAC,MACAC,OAAA,OACAC,IAAAzD,KAAA0D,IAAAiI,WACAlK,MAAAqK,SAAAF,GACAhI,QAAA,SAAAnC,GACAoK,EAAApB,iBAEA,IAEAsB,eA5EA,WA6EA/L,KAAA8J,MAAA9J,KAAA8J,MAEAkC,SA/EA,WAgFAhM,KAAA8J,MAAA,GAEAmC,UAlFA,WAmFAjM,KAAAsK,SAEAoB,QArFA,SAqFAQ,GACAlM,KAAAkK,WAAA,EACAlK,KAAAmK,aAAA,EACA+B,EAAApH,MAAAoH,EAAApH,OAAA,OACA9E,KAAA+E,MAAAmH,EAAApH,QAEAuE,WA3FA,SA2FA6C,GAAA,IAAAC,EAAAnM,KACAA,KAAA6J,QAAA,EAGA7J,KAAA+E,MAAAiB,SACAoG,MAAA,EACAC,QAAA,SACAC,SAAA,IAEAC,WAAA,WACAJ,EAAApH,MAAAyH,QACAC,OAAAC,SAAAxL,KAAAiL,EAAArJ,OAAAC,MAAAsG,WAAA,eAAA8C,EAAA7I,MAAAgG,UAAA,gCACA,OAGAqD,QA1GA,WA2GA3M,KAAAsK,SAEAK,kBA7GA,WA6GA,IAAAiC,EAAA5M,KACAA,KAAAsD,MAAAC,MACAC,OAAA,OACAC,IAAAzD,KAAA0D,IAAAmJ,oBACAjJ,QAAA,SAAAnC,GACAA,IACAA,EAAAuF,QAAA,SAAAC,GACAA,EAAAmE,IAAAnE,EAAA/D,KACA+D,EAAAxB,MAAAwB,EAAA5F,OAEAuL,EAAA9J,OAAAC,MAAA2H,eAAAjJ,MAGA,KAGA4D,QAnJA,WAoJArF,KAAAsK,UCzLewC,GADEhN,OAFP,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA8J,OAAo8C9J,EAAAuB,KAAp8CnB,EAAA,OAAAA,EAAA,eAAiDG,YAAA,SAAAiF,OAA4B9E,MAAA,OAAAsM,MAAA,GAAAC,OAAA,MAAuCjN,EAAAQ,GAAA,KAAAR,EAAA,UAAAI,EAAA,OAAwCG,YAAA,UAAAiF,OAA6B0H,IAAMtN,EAAQ,SAAyCoB,IAAKC,MAAA,SAAAC,GAAyB,OAAAlB,EAAAgF,MAAA,WAA0B5E,EAAA,OAAYG,YAAA,mBAA6BH,EAAA,oBAAyBY,IAAI4L,QAAA5M,EAAAkM,WAAwB3D,OAAQ7C,MAAA1F,EAAA,UAAAwI,SAAA,SAAAC,GAA+CzI,EAAAmK,UAAA1B,GAAkBC,WAAA,eAAyB1I,EAAA,UAAAI,EAAA,OAA4BG,YAAA,aAAuBP,EAAA,UAAAI,EAAA,OAA4BG,YAAA,iBAA2BH,EAAA,YAAiBoF,OAAO9E,MAAAV,EAAA+J,KAAA,gBAAAtE,UAAA,GAAA0H,kBAAAnN,EAAA+J,KAAA,UAAArE,MAAA1F,EAAA+J,KAAA,GAAA/J,EAAA6J,aAAuH7I,IAAKC,MAAAjB,EAAAgM,kBAA4BhM,EAAAQ,GAAA,KAAAR,EAAA,KAAAI,EAAA,MAAkCG,YAAA,WAAsBP,EAAAM,GAAAN,EAAA,iBAAAoN,GAAoC,OAAAhN,EAAA,MAAgBG,YAAA,YAAAS,IAA4BC,MAAA,SAAAC,GAAyB,OAAAlB,EAAA4L,WAAAwB,EAAA/B,OAAgC9C,OAAQ7C,MAAA0H,EAAA,IAAA5E,SAAA,SAAAC,GAAyCzI,EAAAqN,KAAAD,EAAA,MAAA3E,IAA0BC,WAAA,aAAuB1I,EAAAQ,GAAAR,EAAAS,GAAA2M,EAAA7B,MAAA,sBAA8C,GAAAvL,EAAAuB,MAAA,GAAAvB,EAAAuB,KAAAvB,EAAAQ,GAAA,KAAAJ,EAAA,YAAsDoF,OAAO8E,QAAAtK,EAAAsK,WAAuBtK,EAAAQ,GAAA,KAAAR,EAAAiK,UAAAjK,EAAAuB,KAAAnB,EAAA,gBAAAJ,EAAAQ,GAAA,KAAAJ,EAAA,kBAAAJ,EAAAuB,KAAAvB,EAAAQ,GAAA,KAAAR,EAAA,YAAAI,EAAA,OAA6IG,YAAA,gBAA0BP,EAAAQ,GAAA,eAAAR,EAAAuB,KAAAvB,EAAAQ,GAAA,KAAAR,EAAA,KAAAI,EAAA,OAAkEG,YAAA,cAAAS,IAA8BC,MAAAjB,EAAAiM,YAAsBjM,EAAAuB,QAAA,QAE7/CC,oBCChC,IAcI8L,EAdqB1N,EAAQ,OAcjB2N,CACd3E,EACAmE,GAT6B,EAV/B,SAAoBrD,GAClB9J,EAAQ,SAaS,kBAEU,MAUd4N,EAAA,QAAAF,EAAiB","file":"static/js/6.3e7a62e1c7205cabe255.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/pic20190424.2e498a7.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/home/pic20190424.jpg\n// module id = jmA9\n// module chunks = 6","<template>\n  <div v-if=\"modules\">\n    <div class=\"module\" v-for=\"module in modules\">\n      <div class=\"module_title\">{{module.title}}</div>\n      <div class=\"rowWarp\">\n        <div v-for=\"(rows, index) in module.columns\" class=\"swipeList\" :style=\"{left: leftFn(index)}\"\n             @click=\"href(rows)\">\n          <p :class=\"rows.icon\"></p>\n          <span>{{rows.name}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  /*首页导航菜单组件*/\n  export default {\n    name: \"HomeMenu\",\n    components: {},\n    data() {\n      return {};\n    },\n    methods: {\n      href(hrefData) {\n        let type = hrefData.type;\n        if (type === \"inside\") {\n          this.$router.push({ name: hrefData.path, query: hrefData.query, params: hrefData.params });\n        } else if (type === \"build\") {\n          this.Toast(\"模块正在建设中\");\n        } else if (type === \"external\") {\n          // 原来直接跳360，现在改成调用app方法直接新开一个页面放360\n          // window.location.href = this.$store.state.jumpAdress[hrefData[\"path\"]] + \"?token=\" + this.utils.getCookie(\"previous-token\");\n          this.webApp.WebCallApp(\"CmdOpenUrl\", {url: this.$store.state.jumpAdress[hrefData[\"path\"]] + \"?token=\" + this.utils.getCookie(\"previous-token\")});\n        }\n      },\n      leftFn(i) {\n        return i * 22 + \"%\";\n      }\n    },\n    created() {\n\n    },\n    props: [\"modules\"]\n  };\n</script>\n\n<style scoped>\n  .module_title {\n    font-size: 1rem;\n    text-align: left;\n    padding: .5rem .9rem;\n    height: 1.5rem;\n    line-height: 1.5rem;\n    border-bottom: .07rem solid #ddd;\n  }\n\n  .rowWarp {\n    padding: .4rem 0;\n    overflow-x: auto;\n    height: 4.6rem;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .swipeList {\n    display: inline-block;\n    position: absolute;\n    width: 22%;\n    /*height: 3.9rem;*/\n  }\n\n  .swipeList p {\n    width: 3rem;\n    height: 3rem;\n    margin: 0 auto;\n  }\n\n  .swipeList span {\n    display: inline-block;\n    width: 100%;\n    margin-top: .4rem;\n    text-align: center;\n  }\n\n  .rowWarp::-webkit-scrollbar { /*隐藏滚轮*/\n    display: none;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HomeMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.modules)?_c('div',_vm._l((_vm.modules),function(module){return _c('div',{staticClass:\"module\"},[_c('div',{staticClass:\"module_title\"},[_vm._v(_vm._s(module.title))]),_vm._v(\" \"),_c('div',{staticClass:\"rowWarp\"},_vm._l((module.columns),function(rows,index){return _c('div',{staticClass:\"swipeList\",style:({left: _vm.leftFn(index)}),on:{\"click\":function($event){return _vm.href(rows)}}},[_c('p',{class:rows.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(rows.name))])])}),0)])}),0):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32b4dc30\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HomeMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32b4dc30\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HomeMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomeMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomeMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32b4dc30\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HomeMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32b4dc30\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HomeMenu.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"module rotation\">\n    <van-cell title=\"我的轮转\" is-link value=\"查看全部\" @click=\"viewRotation\"/>\n    <van-row>\n      <van-col span=\"12\">\n        <div class=\"br rotation_detail\">\n          <div class=\"department\">{{rotationDetail.departmentName}}\n            <span class=\"entry_flag\" :style=\"{background: bgColor(rotationDetail)}\">{{rotationDetail.entryText}}</span>\n          </div>\n          <div class=\"entry_time van-ellipsis\">{{rotationDetail.rotationTime}}</div>\n          <div class=\"relative\">\n            <p>\n              <span>{{daysText}}</span>\n            <div class=\"days\"><span>{{rotationDetail.outDepartment}}</span>天</div>\n            </p>\n          </div>\n\n          <p>\n            <van-progress :show-pivot=\"showPivot\" color=\"linear-gradient(to right, #1186ff, #50cc87)\"\n                          :percentage=\"rotationDetail.entry\"/>\n          </p>\n          <div>带教老师：{{rotationDetail.teacherName}}</div>\n        </div>\n      </van-col>\n      <van-col span=\"12\">\n        <div class=\"register_detail\" @click=\"viewRegister\">\n          <div class=\"center\">登记手册</div>\n          <p>\n          <div class=\"pb2\">病种</div>\n          <div>\n            <van-progress :show-pivot=\"showPivot\" color=\"linear-gradient(to right, #1186ff, #42afff)\"\n                          :percentage=\"enrollmentStatistics.percentageDiseases\"/>\n          </div>\n          </p>\n          <p>\n          <div class=\"pb2\">技能</div>\n          <div>\n            <van-progress :show-pivot=\"showPivot\" color=\"linear-gradient(to right, #1186ff, #42afff)\"\n                          :percentage=\"enrollmentStatistics.percentageSkill\"/>\n          </div>\n          </p>\n          <div class=\"relative other\">其他录入 <span>{{enrollmentStatistics.otherNum}}份</span></div>\n        </div>\n      </van-col>\n    </van-row>\n  </div>\n</template>\n\n<script>\n  /*学员首页-->轮转计划*/\n  export default {\n    name: \"HomeRotation\",\n    data() {\n      return {\n        showPivot: false,\n        rotationDetail: {\n          departmentName: \"\",\n          rotationTime: \"\",\n          startTime: \"\",\n          endTime: \"\",\n          totalDays: 0,\n          outDepartment: 0,\n          entry: 0,\n          teacherName: \"\"\n        },\n        daysText: \"距离出科\",\n        enrollmentStatistics: {\n          otherNum: 0,\n          percentageDiseases: 0,\n          percentageSkill: 0\n        }\n      };\n    },\n    methods: {\n      getRotation() {\n        // 登记手册\n        let params = {\n          studentId: this.$store.state.userInfo.human.caId\n        };\n        if (this.$store.state.curDepartmentTime) {\n          params.currTime = this.$store.state.curDepartmentTime.endDate;\n        }\n        this.utils.ajax({\n          method: \"POST\",\n          url: this.api.homeRotation,\n          data: params,\n          success: (data) => {\n            this.$store.state.currentDepartment = data.phoneMyCycleInfo;\n            if (data.enrollmentStatistics) { // 登记手册\n              this.enrollmentStatistics = data.enrollmentStatistics;\n              this.$store.state.currentDepartment.normalDepartmentId = data.enrollmentStatistics.normalDepartmentId;\n              this.$store.state.currentDepartment.departmentCaId = data.enrollmentStatistics.departmentCaId;\n            }\n            if (data.phoneMyCycleInfo) {\n              let curData = data.phoneMyCycleInfo;\n              let timestamp = this.utils.formatDate(this.$store.state.timestamp, \"yyyy-MM-dd\");\n              let oneDay = 24 * 60 * 60 * 1000;\n              curData.startDate = this.utils.formatDate(curData.startTime, \"yyyy-MM-dd\");\n              curData.endDate = this.utils.formatDate(curData.endTime, \"yyyy-MM-dd\");\n              let future = this.utils.getTime(timestamp) <= this.utils.getTime(curData.startTime);//未发生的轮转\n              let pastTimes = this.utils.getTime(timestamp) >= this.utils.getTime(curData.endTime);// 已入科的轮转\n              if (future || pastTimes) {\n                curData.outDepartment = Math.ceil((this.utils.getTime(curData.endTime) - this.utils.getTime(curData.startTime)) / oneDay);\n                if (future) {\n                  curData.entry = 0;\n                  curData.entryStatus = 0;\n                } else {\n                  curData.entry = 100;\n                  curData.entryStatus = 2;\n                }\n                this.daysText = \"轮转天数\";\n              } else {\n                curData.totalDays = (this.utils.getTime(curData.endDate) - this.utils.getTime(curData.startDate)) / oneDay; // 总天数\n                curData.outDepartment = (this.utils.getTime(curData.endDate) - this.utils.getTime(timestamp)) / oneDay; // 距离出科天数\n                curData.entry = ((curData.totalDays - curData.outDepartment) / curData.totalDays * 100).toFixed(2) - 0; // 已入科天数\n                this.daysText = \"距离出科\";\n              }\n              if (curData.startTime) {\n                curData.rotationTime = curData.startDate + \"~\" + curData.endDate;\n              }\n              curData.teacherName = curData.teacherName.split(\",\")[0];\n              curData.entryText = curData.entryStatus ? (curData.entryStatus === 1 ? \"已入科\" : \"已出科\") : \"未入科\";\n              this.rotationDetail = curData;\n            }\n          },\n          error: (data) => {\n            this.$store.state.currentDepartment = null;\n            this.Toast(data.error);\n          }\n        });\n      },\n      viewRotation() {\n        this.$router.push({ name: \"RotationPlan\" });\n      },\n      viewRegister() {\n        this.$router.push({ name: \"RegistrationManual\" });\n      },\n      bgColor(data) {\n        return data.entryStatus === 0 ? \"#e44444\" : (data.entryStatus ? \"#4ebc7f\" : \"\");\n      }\n    },\n    created() {\n      this.getRotation();\n    }\n  };\n</script>\n\n<style scoped>\n  .rotation .van-cell__title span {\n    font-size: 1rem;\n  }\n\n  .rotation .van-cell:not(:last-child)::after {\n    border-bottom: .07rem solid #ddd;\n    -webkit-transform: scaleY(1);\n    transform: scaleY(1);\n    left: 0;\n  }\n\n  .rotation .rotation_detail, .rotation .register_detail {\n    padding: .5rem .9rem;\n  }\n\n  .rotation_detail .van-progress {\n    height: .1rem;\n  }\n\n  .department {\n    position: relative;\n    padding: .2rem 0;\n    font-size: .9rem;\n    height: 1.3rem;\n  }\n\n  .department span {\n    position: absolute;\n    right: 0;\n    font-size: .6rem;\n    padding: .15rem .5rem;\n    /*background: #4ebc7f;*/\n    border-radius: .2rem;\n    color: #fff;\n  }\n\n  .entry_time {\n    color: #969799;\n    height: 1rem;\n  }\n\n  .days {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  .days span {\n    font-size: 1.5rem;\n  }\n\n  .other span {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  .pb2 {\n    padding-bottom: .2rem;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HomeRotation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"module rotation\"},[_c('van-cell',{attrs:{\"title\":\"我的轮转\",\"is-link\":\"\",\"value\":\"查看全部\"},on:{\"click\":_vm.viewRotation}}),_vm._v(\" \"),_c('van-row',[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"br rotation_detail\"},[_c('div',{staticClass:\"department\"},[_vm._v(_vm._s(_vm.rotationDetail.departmentName)+\"\\n          \"),_c('span',{staticClass:\"entry_flag\",style:({background: _vm.bgColor(_vm.rotationDetail)})},[_vm._v(_vm._s(_vm.rotationDetail.entryText))])]),_vm._v(\" \"),_c('div',{staticClass:\"entry_time van-ellipsis\"},[_vm._v(_vm._s(_vm.rotationDetail.rotationTime))]),_vm._v(\" \"),_c('div',{staticClass:\"relative\"},[_c('p',[_c('span',[_vm._v(_vm._s(_vm.daysText))])]),_c('div',{staticClass:\"days\"},[_c('span',[_vm._v(_vm._s(_vm.rotationDetail.outDepartment))]),_vm._v(\"天\")]),_vm._v(\" \"),_c('p')]),_vm._v(\" \"),_c('p',[_c('van-progress',{attrs:{\"show-pivot\":_vm.showPivot,\"color\":\"linear-gradient(to right, #1186ff, #50cc87)\",\"percentage\":_vm.rotationDetail.entry}})],1),_vm._v(\" \"),_c('div',[_vm._v(\"带教老师：\"+_vm._s(_vm.rotationDetail.teacherName))])])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"register_detail\",on:{\"click\":_vm.viewRegister}},[_c('div',{staticClass:\"center\"},[_vm._v(\"登记手册\")]),_vm._v(\" \"),_c('p'),_c('div',{staticClass:\"pb2\"},[_vm._v(\"病种\")]),_vm._v(\" \"),_c('div',[_c('van-progress',{attrs:{\"show-pivot\":_vm.showPivot,\"color\":\"linear-gradient(to right, #1186ff, #42afff)\",\"percentage\":_vm.enrollmentStatistics.percentageDiseases}})],1),_vm._v(\" \"),_c('p'),_vm._v(\" \"),_c('p'),_c('div',{staticClass:\"pb2\"},[_vm._v(\"技能\")]),_vm._v(\" \"),_c('div',[_c('van-progress',{attrs:{\"show-pivot\":_vm.showPivot,\"color\":\"linear-gradient(to right, #1186ff, #42afff)\",\"percentage\":_vm.enrollmentStatistics.percentageSkill}})],1),_vm._v(\" \"),_c('p'),_vm._v(\" \"),_c('div',{staticClass:\"relative other\"},[_vm._v(\"其他录入 \"),_c('span',[_vm._v(_vm._s(_vm.enrollmentStatistics.otherNum)+\"份\")])])])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55f4bd2a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HomeRotation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55f4bd2a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HomeRotation.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomeRotation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomeRotation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55f4bd2a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HomeRotation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55f4bd2a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HomeRotation.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"activity\">\n    <van-cell title=\"教学活动\" value=\"查看全部\" is-link to=\"TeachingActivities\"/>\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      :error.sync=\"error\"\n      error-text=\"请求失败，点击重新加载\"\n      :finished-text=\"finishedMsg\"\n      immediate-check\n      :offset=\"50\"\n      @load=\"onLoad\"\n    >\n      <div class=\"activityList\">\n        <ul>\n          <li v-for=\"activityItem in activityList\" @click=\"activityView(activityItem)\">\n            <div class=\"activity_title\">{{activityItem.title}}</div>\n            <p class=\"activity_time\">报名时间： {{activityItem.signInDate}}</p>\n            <p class=\"activity_time\">活动时间： {{activityItem.startTime}} 至 {{activityItem.endTime}}</p>\n          </li>\n        </ul>\n      </div>\n    </van-list>\n  </div>\n</template>\n\n<script>\n  /*首页->教学活动列表*/\n  export default {\n    name: \"HomeActive\",\n    data() {\n      return {\n        loading: false,\n        finished: false,\n        error: false,\n        currentPage: 0,\n        finishedMsg: '没有更多了',\n        activityList: [],\n        activityPager: {},\n        teaching: 'teaching_activity',\n      };\n    },\n    methods: {\n      onLoad() {\n        // this.currentPage = this.activityPager.number ? this.activityPager.number - 0 + 1 : 1;\n        this.currentPage = Math.ceil(this.activityList.length/5)+1;\n        // 异步更新数据\n        this.utils.ajax({\n          method: \"POST\",\n          url: this.api.homeActivity,\n          data: {\n            currentPage: this.currentPage,\n            pageSize: 5,\n            flagOfRelease: 2,\n            isStart: 0,\n            isSignUp:1,\n            joinFlags:[0,2]\n          },\n          success: (data) => {\n            this.finishedMsg = '没有更多了';\n            this.activityPager = data;\n            if(data.content.length) {\n              data.content.forEach(item => {\n                if(item.isSignUp === 1) {\n                  let time = item.startTime.replace(/-/g,'/');\n                  item.signInDate =  this.utils.formatDate(new Date(time).getTime() - (2 * 60 * 60 * 1000)) + ' 前';\n                }else{\n                  item.signInDate = '无需报名';\n                }\n                item.startTime = this.utils.formatDate(item.startTime);\n                item.endTime = this.utils.formatDate(item.endTime);\n                this.activityList.push(item);\n              });\n            }else {\n              this.finishedMsg = '暂无数据';\n            }\n            // 加载状态结束\n            this.loading = false;\n            // 数据全部加载完成\n            if (this.currentPage >= this.activityPager.totalPages) {\n              this.finished = true;\n            }\n          },\n          error: (error) => {\n            this.loading = false;\n            this.error = true;\n          }\n        }, true);\n      },\n      activityView(list) {\n        this.$store.state.activitiesDetailsObj = { id: list.id,condition:this.teaching,memberCaId:list.memberCaId }\n        this.$router.push({ name: \"ActivitiesDetails\"});\n        // this.$router.push({ path: \"Test\", query: { id: list.id } });\n\n      }\n    }\n  };\n</script>\n\n<style scoped>\n  .activity {\n    border-bottom: .07rem solid #ddd;\n  }\n\n  .activity .van-cell__title span {\n    font-size: 1rem;\n  }\n\n  .activityList {\n    background: #fff;\n    border-bottom: .07rem solid #ddd;\n  }\n\n  .activity .van-cell:not(:last-child)::after {\n    /*border-bottom: none;*/\n    border-bottom: .07rem solid #ddd;\n    -webkit-transform: scaleY(1);\n    transform: scaleY(1);\n    left: 0;\n  }\n\n  .activityList li {\n    /*height: 4rem;*/\n    border-bottom: .0625rem solid #ebedf0;\n    padding: .5rem .9rem;\n  }\n\n  .activityList p {\n    color: #999;\n    font-size: .7rem;\n    margin: 0;\n    padding: .1rem 0;\n  }\n\n  .activityList div {\n    height: 1.2rem;\n    overflow: hidden;\n    font-size: 1rem;\n    padding: .2rem 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HomeActive.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity\"},[_c('van-cell',{attrs:{\"title\":\"教学活动\",\"value\":\"查看全部\",\"is-link\":\"\",\"to\":\"TeachingActivities\"}}),_vm._v(\" \"),_c('van-list',{attrs:{\"finished\":_vm.finished,\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\",\"finished-text\":_vm.finishedMsg,\"immediate-check\":\"\",\"offset\":50},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"activityList\"},[_c('ul',_vm._l((_vm.activityList),function(activityItem){return _c('li',{on:{\"click\":function($event){return _vm.activityView(activityItem)}}},[_c('div',{staticClass:\"activity_title\"},[_vm._v(_vm._s(activityItem.title))]),_vm._v(\" \"),_c('p',{staticClass:\"activity_time\"},[_vm._v(\"报名时间： \"+_vm._s(activityItem.signInDate))]),_vm._v(\" \"),_c('p',{staticClass:\"activity_time\"},[_vm._v(\"活动时间： \"+_vm._s(activityItem.startTime)+\" 至 \"+_vm._s(activityItem.endTime))])])}),0)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08dace05\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HomeActive.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08dace05\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HomeActive.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomeActive.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomeActive.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08dace05\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HomeActive.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08dace05\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HomeActive.vue\n// module id = null\n// module chunks = ","<template>\n  <div v-if=\"!isJump\">\n    <van-nav-bar title=\"教学管理\" fixed border class=\"header\"></van-nav-bar>\n\n    <img v-if=\"isTourist\" class=\"tourist\" @click=\"Toast('无权限')\" src=\"../assets/images/home/pic20190424.jpg\">\n\n    <div v-else class=\"layout_content\">\n      <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n        <div v-if=\"showModel\" class=\"homeWarp\">\n          <div v-if=\"rolesShow\" class=\"module roles\">\n            <van-cell :title=\"show?'选择角色':'当前角色 :'\" is-link :arrow-direction=\"show?'down':''\"\n                      :value=\"show?'':currentName\"\n                      @click=\"showChangeList\"/>\n\n            <ul v-if=\"show\" class=\"rolesUl\">\n              <li class=\"rolesList\" v-for=\"lis in columns\" v-model=\"lis.key\" @click=\"changeRole(lis.key)\">{{lis.text}}\n              </li>\n            </ul>\n          </div>\n\n          <HomeMenu :modules=\"modules\"></HomeMenu>\n\n          <HomeRotation v-if=\"!rolesShow\"></HomeRotation>\n\n          <HomeActive></HomeActive>\n        </div>\n        <div v-if=\"refreshText\" class=\"refreshWarp\">加载失败请下拉刷新</div>\n        <div v-if=\"show\" class=\"van-overlay\" @click=\"hideMask\"></div>\n\n      </van-pull-refresh>\n    </div>\n  </div>\n</template>\n\n<script>\n  import HomeMenu from \"@/components/HomeMenu\";\n  import HomeRotation from \"@/components/HomeRotation\";\n  import HomeActive from \"@/components/HomeActive\";\n\n  /*首页*/\n  export default {\n    name: \"Home\",\n    components: {\n      \"HomeMenu\": HomeMenu,\n      \"HomeRotation\": HomeRotation,\n      \"HomeActive\": HomeActive\n    },\n    data() {\n      return {\n        currentName: \"\",\n        isJump: false,\n        userInfo: {},\n        show: false,\n        isTourist: false,\n        rolesShow: false,\n        showModel: false,\n        isLoading: false,\n        refreshText: false,\n        columns: [],\n        modules: []\n      };\n    },\n    methods: {\n      login() {\n        if (process.env.NODE_ENV === \"production\") {\n          this.webApp.WebCallApp(\"GetAPPVersion\", {}, (result) => {\n            if (result.result.touristsState == \"1\") {\n              this.isTourist = true;\n            } else {\n              this.getUserInfo();\n            }\n          });\n        } else {\n          this.utils.ajax({\n            // url: this.api.login + \"?usn=zyyk123\",\n            // url: this.api.login + \"?usn=13200000165\",\n            //  url: this.api.login + \"?usn=13200000222\",\n            // url: this.api.login + \"?usn=13921109806\",\n            // url: this.api.login + \"?usn=ldh12345\",\n            // url: this.api.login + \"?usn=zpzhang\",\n            url: this.api.login + \"?usn=17777777771\", // 学员\n            success: () => {\n              this.isLoading = false;\n              this.getUserInfo();\n            },\n            error: this.onError,\n            catch: this.onError\n          }, true);\n        }\n        if (!this.$store.state.departmentList) {\n          this.getDepartmentList();\n        }\n      },\n      getUserInfo() {\n        this.utils.ajax({\n          method: \"post\",\n          url: this.api.userInfo,\n          success: (data) => {\n            console.log(data,'aaaaa');\n            \n            this.$store.state.userInfo = data;\n            this.userInfo = data;\n            this.columns = [];\n            let roleCodes = [];\n            data.roleVOs.forEach(code => roleCodes.push(code.code));\n            this.$store.state.roleList.forEach(item => {\n              if (roleCodes.indexOf(item.key) > -1) {\n                let obj = {\n                  key: item.key,\n                  text: item.value\n                };\n                this.columns.push(obj);\n              }\n            });\n            console.log(this.userInfo.currentRole.code,'oooo');\n            \n            this.currentName = this.utils.getValueByKey(this.$store.state.roleList, this.userInfo.currentRole.code);\n            this.modules = this.$store.state[this.userInfo.currentRole.code + \"Modules\"];\n            this.rolesShow = this.userInfo.currentRole.code === \"student\" ? false : true;\n            this.showModel = true;\n            this.isLoading = false;\n            this.refreshText = false;\n          },\n          error: this.jumpAdress,\n          catch: this.onError\n        }, true);\n      },\n      changeRole(curRole) {\n        this.show = false;\n        this.utils.ajax({\n          method: \"post\",\n          url: this.api.changeRole,\n          data: { roleCode: curRole },\n          success: (data) => {\n            this.getUserInfo();\n          }\n        }, true);\n      },\n      showChangeList() {\n        this.show = !this.show;\n      },\n      hideMask() {\n        this.show = false;\n      },\n      onRefresh() {\n        this.login();\n      },\n      onError(err) {\n        this.isLoading = false;\n        this.refreshText = true;\n        err.error = err.error || \"网络异常\";\n        this.Toast(err.error);\n      },\n      jumpAdress(err) {\n        this.isJump = true;\n        // 原来直接跳360，现在改成调用app方法直接新开一个页面放360\n\n        this.Toast.loading({\n          mask: true,\n          message: \"加载中...\",\n          duration: 0\n        });\n        setTimeout(() => {\n          this.Toast.clear();\n          window.location.href = this.$store.state.jumpAdress[360] + \"?token=\" + this.utils.getCookie(\"previous-token\") + \"&onlyYou=1\";\n        },1500);\n        // this.webApp.WebCallApp(\"CmdOpenUrl\", {url: this.$store.state.jumpAdress[360] + \"?token=\" + this.utils.getCookie(\"previous-token\")});\n      },\n      refresh() {\n        this.login();\n      },\n      getDepartmentList() {\n        this.utils.ajax({\n          method: \"POST\",\n          url: this.api.queryAllDepartments,\n          success: data => {\n            if (data) {\n              data.forEach(item => {\n                item.key = item.caId;\n                item.value = item.name;\n              });\n              this.$store.state.departmentList = data;\n            }\n          }\n        }, true);\n      }\n    },\n    created() {\n      this.login();\n    }\n  };\n</script>\n\n<style scoped>\n  .homeWarp {\n    min-height: 94vh;\n  }\n\n  .tourist {\n    width: 100%;\n    height: 100%;\n  }\n\n  .rolesList {\n    text-align: center;\n    line-height: 2.5rem;\n  }\n\n  .roles .van-cell--clickable:active {\n    background: #fff;\n  }\n\n  .roles {\n    z-index: 1000;\n  }\n\n  .roles {\n    position: relative;\n  }\n\n  .rolesUl {\n    width: 100%;\n    position: absolute;\n    top: 2.7rem;\n    background: #fff;\n  }\n\n  .rolesUl li {\n    border-top: .07rem solid #ddd;\n  }\n\n  .activity .van-cell__title span, .roles .van-cell__title span {\n    font-size: 1rem;\n  }\n\n  .refreshWarp {\n    width: 100%;\n    margin: 0 auto;\n    text-align: center;\n    padding: 50% 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isJump)?_c('div',[_c('van-nav-bar',{staticClass:\"header\",attrs:{\"title\":\"教学管理\",\"fixed\":\"\",\"border\":\"\"}}),_vm._v(\" \"),(_vm.isTourist)?_c('img',{staticClass:\"tourist\",attrs:{\"src\":require(\"../assets/images/home/pic20190424.jpg\")},on:{\"click\":function($event){return _vm.Toast('无权限')}}}):_c('div',{staticClass:\"layout_content\"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[(_vm.showModel)?_c('div',{staticClass:\"homeWarp\"},[(_vm.rolesShow)?_c('div',{staticClass:\"module roles\"},[_c('van-cell',{attrs:{\"title\":_vm.show?'选择角色':'当前角色 :',\"is-link\":\"\",\"arrow-direction\":_vm.show?'down':'',\"value\":_vm.show?'':_vm.currentName},on:{\"click\":_vm.showChangeList}}),_vm._v(\" \"),(_vm.show)?_c('ul',{staticClass:\"rolesUl\"},_vm._l((_vm.columns),function(lis){return _c('li',{staticClass:\"rolesList\",on:{\"click\":function($event){return _vm.changeRole(lis.key)}},model:{value:(lis.key),callback:function ($$v) {_vm.$set(lis, \"key\", $$v)},expression:\"lis.key\"}},[_vm._v(_vm._s(lis.text)+\"\\n            \")])}),0):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('HomeMenu',{attrs:{\"modules\":_vm.modules}}),_vm._v(\" \"),(!_vm.rolesShow)?_c('HomeRotation'):_vm._e(),_vm._v(\" \"),_c('HomeActive')],1):_vm._e(),_vm._v(\" \"),(_vm.refreshText)?_c('div',{staticClass:\"refreshWarp\"},[_vm._v(\"加载失败请下拉刷新\")]):_vm._e(),_vm._v(\" \"),(_vm.show)?_c('div',{staticClass:\"van-overlay\",on:{\"click\":_vm.hideMask}}):_vm._e()])],1)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ee8a6172\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ee8a6172\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ee8a6172\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ee8a6172\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}