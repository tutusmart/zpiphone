{"version":3,"sources":["webpack:///src/view/attendance/Retroactive.vue","webpack:///./src/view/attendance/Retroactive.vue?ad52","webpack:///./src/view/attendance/Retroactive.vue","webpack:///src/view/attendance/SignInToReview.vue","webpack:///./src/view/attendance/SignInToReview.vue?5f7b","webpack:///./src/view/attendance/SignInToReview.vue"],"names":["Retroactive","name","components","props","data","dateTime","this","utils","formatDate","Date","getTime","replace","signTime","listData","retroactive","currentSignInDate","currentSignOutDate","showSignIn","showSignOut","type","signInTime","signInTimeText","signOutTime","signOutTimeText","currentId","index","created","methods","dateClick","show","isDate","date","time","getMonth","getFullYear","getDay","confirm","value","dateText","dateTextShow","valiteSign","confirmBackDailySign","_this2","obj","that","forEach","i","params","ids","id","backDailySign","signIn","signOut","flag","Toast","_this","ajax","url","api","method","success","splice","formatter","pickerType","cancel","signindate","item","attendance_Retroactive","render","_vm","_h","$createElement","_c","_self","_l","staticClass","_v","_s","studentName","typeName","departmentName","class","gray","on","click","$event","attrs","position","overlay","model","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","SignInToReview","ViewList","PassAndNoPass","dateTime1","dateTimeShow","active","errorTip","tabs","title","loading","finished","error","finishedText","listObj","list","field","leftClass","viewAppraise","key","auditFlag","currentDate","currentDate1","showTimerFlag","currentPage","auditNote","$store","state","tabActive","onClickLeft","goBack","showTimer","confirmTimer","getData","onLoad","console","log","change","document","querySelector","scrollTop","getParams","auditFlags","pageDutyAuditList","pageBackDailySign","transformData","dataResult","element","selected","auditFlagText","getValueByKey","auditStatus","currentTab","Math","ceil","length","pageSize","totalPages","content","concat","checkedList","filter","ele","signInAudit","auditObj","auditAjax","getAuditParams","dailyId","push","auditOpinion","auditDuty","setTimeout","_error","attendance_SignInToReview","fixed","left-arrow","click-left","swipeable","sticky","offset-top","title-active-color","color","line-height","error-text","finished-text","offset","update:error","$set","load","is-link","_e","ref","refInFor","queryData","auditHandle","left"],"mappings":"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","file":"static/js/10.17ddce90f18430377067.js","sourcesContent":["\r\n<template>\r\n  <div class>\r\n    <div v-for=\"(item,index) in retroactive\">\r\n      <div class=\"bottom\">\r\n        <div class=\"surface\">\r\n          <ul>\r\n            <li>\r\n              <p>姓名：</p>\r\n              <p>{{item.studentName}}</p>\r\n            </li>\r\n            <li>\r\n              <p>班次：</p>\r\n              <p>{{item.typeName}}</p>\r\n            </li>\r\n            <li>\r\n              <p>轮转科室：</p>\r\n              <p>{{item.departmentName}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"SignInButton\">\r\n          <ul class=\"timeButton\">\r\n            <li>\r\n              <div class=\"signText\" >\r\n                <p class=\"p\"  v-bind:class=\"{gray:item.signInTime }\"  @click=\"signindate(index,'sign',item)\" >签到时间</p>\r\n                <p>{{item.signInTime}}</p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div class=\"signText\">\r\n                <p class=\"p\" v-bind:class=\"{gray:item.signOutTime }\"  @click=\"signindate(index,'signOut',item)\" >签退时间</p>\r\n                <p>{{item.signOutTime}}</p>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-popup v-model=\"showSignIn\" position=\"bottom\" :overlay=\"true\">\r\n      <van-datetime-picker v-model=\"currentSignInDate\" type=\"datetime\" @confirm=\"confirm\" @cancel=\"cancel\" :formatter = \"formatter\"/>\r\n    </van-popup>\r\n    <van-popup v-model=\"showSignOut\" position=\"bottom\" :overlay=\"true\">\r\n      <van-datetime-picker v-model=\"currentSignOutDate\" type=\"datetime\" @confirm=\"confirm\" @cancel=\"cancel\" :formatter = \"formatter\"/>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Retroactive\", // 补签\r\n  components: {},\r\n  props: [\"retroactive\"],\r\n  data() {\r\n    var dateTime = this.utils.formatDate(new Date().getTime(),'yyyy-MM-dd').replace(/-/g, \"/\");\r\n    var signTime = this.utils.formatDate(dateTime,'yyyy-MM-dd');\r\n    return {\r\n      listData:this.retroactive,\r\n      currentSignInDate: new Date(),\r\n      currentSignOutDate: new Date(),\r\n      dateTime: dateTime,\r\n      showSignIn: false,\r\n      showSignOut: false,\r\n      type: \"\",\r\n      signTime:signTime,\r\n      signInTime:\"\",\r\n      signInTimeText:\"\",\r\n      signOutTime:\"\",\r\n      signOutTimeText:\"\",\r\n      currentId:\"\",\r\n      index: 0\r\n    };\r\n  },\r\n  created() {\r\n    //this.isDate();\r\n  },\r\n  methods: {\r\n    dateClick() { //显示时间\r\n      this.show = true;\r\n      this.type = 1;\r\n    },\r\n    isDate(date) {\r\n      let time = new Date(date);\r\n      let getMonth = time.getMonth() + 1;\r\n      this.dateTime\r\n        ? \"\"\r\n        : (this.dateTime =\r\n            time.getFullYear() + \"/\" + getMonth + \"/\" + time.getDay());\r\n    },\r\n\r\n    confirm(value) {\r\n      var _this = this;\r\n      // 日期确定\r\n      var dateShow = this.utils.formatDate(value.getTime(),'yyyy-MM-dd').replace(/-/g, \"/\");\r\n      var dateText = this.utils.formatDate(value.getTime());\r\n      var dateTextShow = this.utils.formatDate(value.getTime()).replace(/-/g,\"/\");\r\n      if (this.type == 2) {\r\n        if (this.retroactive[this.index].signOutTime) {\r\n          let flag = this.valiteSign(dateText, this.retroactive[this.index].signOutTime);\r\n          if (!flag) {\r\n            return;\r\n          }\r\n        }\r\n        this.showSignIn = false;\r\n        this.retroactive[this.index].signInTime = dateText;\r\n        this.retroactive[this.index].signInTimeText = dateTextShow;\r\n        this.confirmBackDailySign();\r\n      } else if (this.type == 3) {\r\n        if (this.retroactive[this.index].signInTime) {\r\n          let flag = this.valiteSign(this.retroactive[this.index].signInTime, dateText);\r\n          if (!flag) {\r\n            return;\r\n          }\r\n        }\r\n        this.showSignOut = false;\r\n        this.retroactive[this.index].signOutTime = dateText;\r\n        this.retroactive[this.index].signOutTimeText = dateTextShow;\r\n        this.confirmBackDailySign();\r\n      }\r\n    },\r\n    confirmBackDailySign() {\r\n        let obj = null;\r\n        let that = this;\r\n        this.retroactive.forEach((i, index) => {\r\n          if (i.signInTime && i.signOutTime) {\r\n            if( this.utils.getTime(i.signInTime) < this.utils.getTime(i.signOutTime)) {\r\n              obj = i;\r\n              that.index = index;\r\n            }\r\n          }\r\n        });\r\n        if (obj) {\r\n          var id = obj.id;\r\n          var signInTime = obj.signInTime;\r\n          var signOutTime = obj.signOutTime;\r\n          var params = {\r\n            ids:[id],\r\n            signInTime:  signInTime,\r\n            signOutTime: signOutTime\r\n          }\r\n          this.backDailySign(params);\r\n        }\r\n    },\r\n    valiteSign(signIn, signOut) {\r\n      var flag = true;\r\n      if( signIn >= signOut) {\r\n        this.Toast('签到时间不能大于签退时间');\r\n        flag = false;\r\n        return flag;\r\n      }\r\n      return flag;\r\n    },\r\n    backDailySign(params) {\r\n        var _this = this;\r\n        this.utils.ajax(\r\n        {\r\n          url: this.api.backDailySign,\r\n          data: params,\r\n          method: \"POST\",\r\n          success: data => {\r\n            _this.retroactive.splice(_this.index, 1);\r\n            _this.Toast('补签成功');\r\n            // _this.signInTime = \"\";\r\n            // _this.signInTimeText = \"\";\r\n            // _this.signOutTime = \"\";\r\n            // _this.signOutTimeText = \"\";\r\n            // _this.$emit('queryData',1);\r\n          }\r\n        }, false);\r\n\r\n    },\r\n    formatter(type, value) {\r\n      return this.utils.pickerType( type, value );\r\n    },\r\n    cancel() {\r\n      // 日期取消\r\n      if( this.type == 1) {\r\n        this.show = false;\r\n      } else if( this.type == 2 ) {\r\n        this.showSignIn = false;\r\n      } else if( this.type == 3) {\r\n         this.showSignOut = false;\r\n      }\r\n    },\r\n    signindate(index, value, item) {\r\n      this.index = index;\r\n      if (value === \"sign\") {\r\n        // 签到时间\r\n        this.showSignIn = true;\r\n        this.type = 2;\r\n        this.currentId = item.id;\r\n      }\r\n      if (value === \"signOut\") {\r\n        // 签退时间\r\n        this.showSignOut = true;\r\n        this.type = 3;\r\n        this.currentId = item.id;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style  scoped>\r\n.surface p,\r\n.SignInButton p {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.surface {\r\n  width: 100%;\r\n  background: white;\r\n  border-bottom: 1px solid #f7f7f7;\r\n}\r\n.surface ul {\r\n  width: 90%;\r\n  margin: 0 auto;\r\n}\r\n.surface ul li p:nth-of-type(1) {\r\n  color: #b5b5b5;\r\n  width: 70px;\r\n  text-align: right;\r\n}\r\n.surface ul li {\r\n  display: flex;\r\n}\r\n.SignInButton {\r\n  background: white;\r\n}\r\n.SignInButton .timeButton {\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n}\r\n.timeButton p {\r\n  color: #ebb86e;\r\n}\r\n.timeButton li {\r\n  padding: 0.5rem 0;\r\n}\r\n.timeButton li {\r\n  width: 100%;\r\n}\r\n.surface {\r\n  padding: 0.2rem 0;\r\n}\r\n.surface ul li {\r\n  padding: 0.3rem 0;\r\n}\r\n.bottom {\r\n  border-bottom: 0.5rem solid #f0f0f0;\r\n}\r\n\r\n.signText p {\r\n  color:#ebb86e;\r\n}\r\n.signText p.gray {\r\n  color: #bdbdbd;\r\n}\r\n/* .signText p:nth-of-type(1) {\r\n  color: #bdbdbd;\r\n} */\r\n.signText p:nth-of-type(2) {\r\n  color: #767676;\r\n  font-size: 1rem;\r\n}\r\n.p{\r\n  margin-top: 0.7rem !important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/attendance/Retroactive.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_vm._l((_vm.retroactive),function(item,index){return _c('div',[_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"surface\"},[_c('ul',[_c('li',[_c('p',[_vm._v(\"姓名：\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.studentName))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"班次：\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.typeName))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"轮转科室：\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.departmentName))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"SignInButton\"},[_c('ul',{staticClass:\"timeButton\"},[_c('li',[_c('div',{staticClass:\"signText\"},[_c('p',{staticClass:\"p\",class:{gray:item.signInTime },on:{\"click\":function($event){return _vm.signindate(index,'sign',item)}}},[_vm._v(\"签到时间\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.signInTime))])])]),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"signText\"},[_c('p',{staticClass:\"p\",class:{gray:item.signOutTime },on:{\"click\":function($event){return _vm.signindate(index,'signOut',item)}}},[_vm._v(\"签退时间\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.signOutTime))])])])])])])])}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":true},model:{value:(_vm.showSignIn),callback:function ($$v) {_vm.showSignIn=$$v},expression:\"showSignIn\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"datetime\",\"formatter\":_vm.formatter},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.currentSignInDate),callback:function ($$v) {_vm.currentSignInDate=$$v},expression:\"currentSignInDate\"}})],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":true},model:{value:(_vm.showSignOut),callback:function ($$v) {_vm.showSignOut=$$v},expression:\"showSignOut\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"datetime\",\"formatter\":_vm.formatter},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.currentSignOutDate),callback:function ($$v) {_vm.currentSignOutDate=$$v},expression:\"currentSignOutDate\"}})],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-426773df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/attendance/Retroactive.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-426773df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Retroactive.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Retroactive.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Retroactive.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-426773df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Retroactive.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-426773df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/attendance/Retroactive.vue\n// module id = null\n// module chunks = ","\n<template>\n  <div class>\n    <van-nav-bar title=\"签到审核\" class=\"header\" fixed left-arrow @click-left=\"onClickLeft\"/>\n    <div class=\"layout_content\">\n      <van-tabs\n        v-model=\"active\"\n        swipeable sticky :offset-top=\"40\"\n        title-active-color=\"#1a7fe9\"\n        color=\"#5fa4ec\"\n        :line-height=\"2\"\n        @click=\"change\"\n        @change=\"change\"\n      >\n        <div v-for=\"(item,index) in tabs\">\n            <van-tab :title=\"item.title\"  >\n              <van-list\n                   v-model=\"item.loading\"\n                  :finished=\"item.finished\"\n                  :error.sync=\"item.error\"\n                  error-text=\"请求失败，点击重新加载\"\n                  :finished-text=\"item.finishedText\"\n                  :offset=\"50\"\n                  @load=\"onLoad()\"\n                >\n                  <div v-if=\"index == 1\" class=\"audited\">\n                      <van-cell title=\"审核日期\" is-link :value=\"dateTimeShow\" @click=\"dateClick()\"/>\n                  </div>\n                  <div v-if=\"index == 2\" class=\"audited\">\n                    <van-cell title=\"值班日期\" is-link :value=\"dateTime1\" @click=\"showTimer()\"/>\n                  </div>\n                  <div v-if=\"index == 2\">\n                    <Retroactive :retroactive=\"item.listData\" ref=\"mychild\" @queryData=\"getData\"></Retroactive>\n                  </div>\n                  <div v-else>\n                    <ViewList :listObj=\"item.listObj\" :listData=\"item.listData\"></ViewList>\n                  </div>\n              </van-list>\n            </van-tab>\n        </div>\n      </van-tabs>\n      <PassAndNoPass v-if=\"active == 0\"  @auditHandle=\"signInAudit\" :error=\"errorTip\" :list=\"tabs[0].listData\"    @click-left=\"left()\"></PassAndNoPass>\n      <van-popup v-model=\"showTimerFlag\" position=\"bottom\" :overlay=\"true\">\n        <van-datetime-picker v-model=\"currentDate1\" type=\"date\" @confirm=\"confirmTimer\" @cancel=\"cancel\" :formatter = \"formatter\"/>\n      </van-popup>\n      <van-popup v-model=\"show\" position=\"bottom\" :overlay=\"true\">\n        <van-datetime-picker\n          v-model=\"currentDate\"\n          type=\"date\"\n          @confirm=\"confirm\"\n          @cancel=\"cancel\"\n          :formatter = \"formatter\"\n        />\n      </van-popup>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ViewList from \"@/components/ViewList\";\nimport PassAndNoPass from \"@/components/PassAndNoPass\";\nimport Retroactive from \"@/view/attendance/Retroactive\";\nexport default {\n  name: \"SignInToReview\",\n  components: {\n    Retroactive: Retroactive,\n    ViewList: ViewList,\n    PassAndNoPass: PassAndNoPass\n  },\n  data() {\n    var dateTime1 = this.utils.formatDate(new Date().getTime(),'yyyy-MM-dd').replace(/-/g, \"/\");\n    var dateTime = this.utils.formatDate(new Date().getTime(),'yyyy-MM-dd');\n    var dateTimeShow = this.utils.formatDate(new Date().getTime(),'yyyy-MM-dd').replace(/-/g, \"/\");\n    return {\n      active: 0,\n      errorTip:'请选择需要审核的签到',\n      tabs:[\n        {\n          title:\"待审核\",\n          loading: false,\n          finished: false,\n          error: false,\n          finishedText:'没有更多了',\n          listObj: {\n            list: [\n              { field: \"姓名：\", name: \"studentName\", leftClass: \"gray\" },\n              { field: \"班次：\", name: \"dutyTypeName\", leftClass: \"gray\" },\n              { field: \"轮转科室：\", name: \"departmentName\", leftClass: \"gray\" },\n              { field: \"签到时间：\", name: \"signInTimeText\", leftClass: \"gray\" },\n              { field: \"签退时间：\", name: \"signOutTimeText\", leftClass: \"gray\" }\n            ],\n            click: this.viewAppraise\n          },\n          listData:[]\n        },\n        {\n          title:\"已审核\",\n          loading: false,\n          finished: false,\n          error: false,\n          finishedText:'没有更多了',\n          listObj: {\n            list: [\n                { field: \"姓名：\", name: \"studentName\", leftClass: \"gray\" },\n                { field: \"班次：\", name: \"dutyTypeName\", leftClass: \"gray\" },\n                { field: \"轮转科室：\", name: \"departmentName\", leftClass: \"gray\" },\n                { field: \"签到时间：\", name: \"signInTimeText\", leftClass: \"gray\" },\n                { field: \"签退时间：\", name: \"signOutTimeText\", leftClass: \"gray\" },\n                { field: \"审核状态：\", name: \"auditFlag\", leftClass: \"gray\",\n                 render: (data, key) => {\n                    if (data.auditFlag == 1) {\n                      return `<span class=\"green\">审核通过</span>`;\n                    } else if (data.auditFlag == 2) {\n                      return `<span class=\"red\">审核不通过</span>`;\n                    }\n                  }\n                },\n\n                { field: \"审核意见：\", name: \"auditOpinion\", leftClass: \"gray\" }\n            ]\n            //,\n            //click: this.viewAppraise\n          },\n          listData:[]\n        },\n        {\n          title:\"补签\",\n          loading: false,\n          finished: false,\n          error: false,\n          finishedText:'没有更多了',\n          listData:[]\n        }\n      ],\n      dateTime: dateTime,\n      dateTime1: dateTime1,\n      dateTimeShow:dateTimeShow,\n      currentDate: new Date(),\n      currentDate1: new Date(),\n      show: false,\n      showTimerFlag: false,\n      currentPage: 1,\n      auditNote:''\n    };\n  },\n  created() {\n    //this.getData();\n     this.active = this.$store.state.tabActive;\n  },\n  methods: {\n    onClickLeft() {\n      this.utils.goBack(this);\n    },\n    showTimer() {\n      this.showTimerFlag = true;\n    },\n    confirmTimer(value) {\n      this.showTimerFlag = false;\n      this.dateTime1 = this.utils.formatDate(value.getTime(),'yyyy-MM-dd').replace(/-/g, \"/\");\n      this.getData(1);\n    },\n    onLoad() {\n      console.log('load');\n      this.getData();\n    },\n    change(index) {\n      document.querySelector(\".layout_content\").scrollTop = 0;\n      this.active = index;\n      this.$store.state.tabActive = this.active;\n    },\n    getParams () {\n      var index = this.active;\n      var params = {};\n      var url = '';\n      switch (+index) {\n        case 0:  //待审核\n          params.auditFlags = ['0'];\n          url =  this.api.pageDutyAuditList;\n          break;\n        case 1:  // 已审核\n          params.auditFlags = ['1', '2'];\n          params.signTime = this.dateTime;\n          url =  this.api.pageDutyAuditList;\n          break;\n        case 2:\n          params.signTime = this.dateTime1.replace(/\\//g, \"-\");;\n          url = this.api.pageBackDailySign;\n          break;\n      }\n      return { params:params, url:url }\n    },\n    transformData(dataResult) {\n       //console.log('111',this.$store.state.auditStatus);\n       dataResult.forEach( element => {\n          element.selected = false;\n          element.signInTimeText = element.signInTime ? this.utils.formatDate(element.signInTime,'yyyy-MM-dd HH:mm').replace(/-/g , \"/\"):'';\n          element.signOutTimeText = element.signOutTime ? this.utils.formatDate(element.signOutTime,'yyyy-MM-dd HH:mm').replace(/-/g , \"/\"):'';\n          element.auditFlagText =  this.utils.getValueByKey(this.$store.state.auditStatus, element.auditFlag)||'';\n\n       });\n       return dataResult;\n    },\n    getData(value) {\n      var _this = this;\n      var currentTab = this.tabs[this.active];\n      var params = this.getParams().params;\n      this.currentPage = Math.ceil(currentTab.listData.length /  this.$store.state.pageSize);\n      this.currentPage = this.currentPage + 1;\n\n      if(value) {\n          this.currentPage = 1;\n      }\n\n      params.currentPage = this.currentPage;\n      params.pageSize = this.$store.state.pageSize;\n      var url = this.getParams().url;\n      this.utils.ajax(\n      {\n        url: url,\n        data: params,\n        method: \"POST\",\n        success: data => {\n          console.log('data--->',data);\n          _this.totalPages = data.totalPages;\n          if( params.currentPage == 1) {\n              currentTab.listData = _this.transformData(data.content);\n          } else {\n              currentTab.listData = currentTab.listData.concat(_this.transformData(data.content));\n          }\n\n          if (data.content.length == 0) {\n             currentTab.finishedText = '';\n          }else {\n             currentTab.finishedText = \"没有更多了\";\n          }\n          currentTab.loading = false;\n          if(_this.currentPage >= _this.totalPages) {\n            currentTab.finished = true;\n          } else {\n            currentTab.finished = false;\n          }\n        }\n      },true);\n\n    },\n    viewAppraise(data) {\n      data.selected = !data.selected;\n    },\n    checkedList() {\n      var currentTab = this.tabs[this.active];\n      var checkedList = currentTab.listData.filter( (ele) => {\n          return ele.selected == true;\n      });\n      //console.log('checkedList--->--', checkedList);\n      return checkedList;\n    },\n    signInAudit(auditObj) {\n      var type = auditObj.type;\n      // if(type == 'pass') {\n      //   console.log('pass');\n      // } else if( type == 'unPass' ) {\n      //   console.log('unPass');\n      // }\n      this.auditNote = auditObj.data||'';\n      this.auditAjax(type);\n    },\n    getAuditParams( type) {\n        var params = {};\n        var checkedList = this.checkedList();\n        var ids = [];\n        checkedList.forEach((ele)=> {\n          var id = ele.dailyId;\n          ids.push(id);\n        });\n        params.ids = ids;\n        if( type == 'pass' ) {\n          params.auditFlag = '1';\n          params.auditOpinion = \"\";\n        }\n        else if( type == 'unPass') {\n          params.auditFlag = '2';\n          params.auditOpinion = this.auditNote;\n        }\n        return params;\n    },\n    auditAjax(type) {\n      var _this = this;\n      var params = this.getAuditParams(type);\n      console.log('params-->--', params);\n      this.utils.ajax({\n          url:  this.api.auditDuty,\n          data: params,\n          method: \"POST\",\n          success: data => {\n            setTimeout(() => {\n               _this.Toast('审核成功');\n            }, 100);\n             _this.getData(1);\n          },\n          error: error => {\n             console.log('error-->--',error);\n             _this.Toast(error.error);\n          }\n      },true);\n    },\n    formatter(type, value) {\n      return this.utils.pickerType( type, value );\n    },\n\n    confirm(value) {\n      // 日期确定\n      this.show = false;\n      this.dateTime = this.utils.formatDate(value.getTime(),'yyyy-MM-dd');\n      this.dateTimeShow = this.dateTime.replace(/-/g, \"/\");\n      this.getData(1);\n    },\n    cancel() {\n      // 日期取消\n      this.show = false;\n    },\n    dateClick() {\n      this.show = true;\n    }\n  }\n};\n</script>\n<style  scoped>\n.audited {\n  border-bottom:.07rem solid #ddd;\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/attendance/SignInToReview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('van-nav-bar',{staticClass:\"header\",attrs:{\"title\":\"签到审核\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"layout_content\"},[_c('van-tabs',{attrs:{\"swipeable\":\"\",\"sticky\":\"\",\"offset-top\":40,\"title-active-color\":\"#1a7fe9\",\"color\":\"#5fa4ec\",\"line-height\":2},on:{\"click\":_vm.change,\"change\":_vm.change},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabs),function(item,index){return _c('div',[_c('van-tab',{attrs:{\"title\":item.title}},[_c('van-list',{attrs:{\"finished\":item.finished,\"error\":item.error,\"error-text\":\"请求失败，点击重新加载\",\"finished-text\":item.finishedText,\"offset\":50},on:{\"update:error\":function($event){return _vm.$set(item, \"error\", $event)},\"load\":function($event){return _vm.onLoad()}},model:{value:(item.loading),callback:function ($$v) {_vm.$set(item, \"loading\", $$v)},expression:\"item.loading\"}},[(index == 1)?_c('div',{staticClass:\"audited\"},[_c('van-cell',{attrs:{\"title\":\"审核日期\",\"is-link\":\"\",\"value\":_vm.dateTimeShow},on:{\"click\":function($event){return _vm.dateClick()}}})],1):_vm._e(),_vm._v(\" \"),(index == 2)?_c('div',{staticClass:\"audited\"},[_c('van-cell',{attrs:{\"title\":\"值班日期\",\"is-link\":\"\",\"value\":_vm.dateTime1},on:{\"click\":function($event){return _vm.showTimer()}}})],1):_vm._e(),_vm._v(\" \"),(index == 2)?_c('div',[_c('Retroactive',{ref:\"mychild\",refInFor:true,attrs:{\"retroactive\":item.listData},on:{\"queryData\":_vm.getData}})],1):_c('div',[_c('ViewList',{attrs:{\"listObj\":item.listObj,\"listData\":item.listData}})],1)])],1)],1)}),0),_vm._v(\" \"),(_vm.active == 0)?_c('PassAndNoPass',{attrs:{\"error\":_vm.errorTip,\"list\":_vm.tabs[0].listData},on:{\"auditHandle\":_vm.signInAudit,\"click-left\":function($event){return _vm.left()}}}):_vm._e(),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":true},model:{value:(_vm.showTimerFlag),callback:function ($$v) {_vm.showTimerFlag=$$v},expression:\"showTimerFlag\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"formatter\":_vm.formatter},on:{\"confirm\":_vm.confirmTimer,\"cancel\":_vm.cancel},model:{value:(_vm.currentDate1),callback:function ($$v) {_vm.currentDate1=$$v},expression:\"currentDate1\"}})],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":true},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"formatter\":_vm.formatter},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55013ad0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/attendance/SignInToReview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55013ad0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SignInToReview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignInToReview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignInToReview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55013ad0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SignInToReview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55013ad0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/attendance/SignInToReview.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}