webpackJsonp([13],{"5iQc":function(e,t){},HE13:function(e,t){},"bGw+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("ul",e._l(e.data,function(t){return a("li",{on:{click:function(a){return e.chooseTeacher(t)}}},[a("div",[a("div",[a("span",[e._v("姓名:")]),e._v(e._s(t.humanName))]),e._v(" "),a("div",[a("span",[e._v("专业:")]),e._v(e._s(e.majorName(t.traineeMajorCode)))]),e._v(" "),a("div",{staticClass:"flex-box"},[a("div",[a("span",[e._v("身份类型:")]),e._v(e._s(e.idType(t.idTypeCode)))]),e._v(" "),a("div",{staticClass:"box-icon"},[a("van-icon",{attrs:{name:"arrow"}})],1)]),e._v(" "),a("div",[a("span",[e._v("轮转科室:")]),e._v(e._s(t.departmentName))]),e._v(" "),a("div",[a("span",[e._v("轮转时间:")]),e._v(e._s(e.getTime(t)))])])])}),0)])},staticRenderFns:[]};var o={name:"AllocationTeacher",components:{ListLazy:a("VU/8")({name:"ListLazy",data:function(){return{loading:!1,finished:!1,data:[],params:{pageSize:this.$store.state.pageSize,currentPage:1}}},methods:{onClickLeft:function(){this.utils.goBack(this)},onLoad:function(){this.getData()},getData:function(e){var t=this,a=this.api.getNotAllotTeacherStudentForMobile,i=this.params;"2"==this.mode&&(a=this.api.getAlreadyAllotTeacherStudentForMobile),i.yearMonth=this.time,e&&(i.currentPage=1,i.yearMonth=e),this.loading=!0,this.utils.ajax({url:a,data:i,method:"post",success:function(a){if(a.number>=a.totalPages?t.finished=!0:(t.finished=!1,t.params.currentPage++),e)return t.data=a.content,void(t.loading=!1);a.content.forEach(function(e){t.data.push(e)}),t.loading=!1}},!0)},chooseTeacher:function(e){if("1"==this.mode)this.$store.state.studentObj=e,this.$router.push({name:"ChooseTeacher"});else{var t={endDate:e.endDate,startDate:e.startDate,cycleDepartmentId:e.departmentId,normalDepartmentId:e.normalDepartmentId,name:e.humanName,studentId:e.humanId};this.$router.push({name:"ShowTeacherDetil",params:{params:t}})}},getTime:function(e){return this.utils.formatDate(e.startDate,"yyyy-MM-dd")+"至"+this.utils.formatDate(e.endDate,"yyyy-MM-dd")},idType:function(e){var t=null;return[{key:"1",value:"本单位人"},{key:"2",value:"社会人"},{key:"3",value:"研究生"},{key:"4",value:"委培人员"},{key:"5",value:"并轨专硕"}].forEach(function(a){e==a.key&&(t=a.value)}),t},majorName:function(e){var t=null;return[{key:"0100",value:"内科"},{key:"0200",value:"儿科"},{key:"0300",value:"急诊科"},{key:"0400",value:"皮肤科"},{key:"0500",value:"精神科"},{key:"0600",value:"神经内科"},{key:"0700",value:"全科"},{key:"0800",value:"康复医学科"},{key:"0900",value:"外科"},{key:"1000",value:"外科（神经外科方向）"},{key:"1100",value:"外科（胸心外科方向）"},{key:"1200",value:"外科（泌尿外科方向）"},{key:"1300",value:"外科（整形外科方向）"},{key:"1400",value:"骨科"},{key:"1500",value:"儿外科"},{key:"1600",value:"妇产科"},{key:"1700",value:"眼科"},{key:"1800",value:"耳鼻咽喉科"},{key:"1900",value:"麻醉科"},{key:"2000",value:"临床病理科"},{key:"2100",value:"检验医学科"},{key:"2200",value:"放射科"},{key:"2300",value:"超声医学科"},{key:"2400",value:"核医学科"},{key:"2500",value:"放射肿瘤科"},{key:"2600",value:"医学遗传科"},{key:"2700",value:"预防医学科"},{key:"2800",value:"口腔全科"},{key:"2900",value:"口腔内科"},{key:"3000",value:"口腔颌面外科"},{key:"3100",value:"口腔修复科"},{key:"3200",value:"口腔正畸科"},{key:"3300",value:"口腔病理科"},{key:"3400",value:"口腔颌面影像科"},{key:"4100",value:"中医内科"},{key:"4200",value:"中医外科"},{key:"4300",value:"中医妇科"},{key:"4400",value:"中医儿科"},{key:"4500",value:"针灸科"},{key:"4600",value:"推拿科"},{key:"4700",value:"中医康复科"},{key:"4800",value:"中医骨伤科"},{key:"4900",value:"中医耳鼻喉科"},{key:"5000",value:"中医眼科"},{key:"5100",value:"中医全科"}].forEach(function(a){e==a.key&&(t=a.value)}),t}},created:function(){},props:["mode","time"]},i,!1,function(e){a("HE13")},"data-v-28e1bb41",null).exports},data:function(){return{time:"",time1:"",time2:"",loading:!1,finished:!1,currentDate:new Date,chooseTimeShow:!1,scrollTop0:0,scrollTop1:0,tabMode:0}},methods:{onClickLeft:function(){this.utils.goBack(this),this.$store.state.teacherTime1="",this.$store.state.teacherTime2="",this.$store.state.tabActive=0},domClick:function(e){this.chooseTimeShow&&"time"!=e.target.getAttribute("data-name")&&this.cancel()},scroll:function(){this.tabMode?this.scrollTop1=document.querySelector(".layout_content").scrollTop:this.scrollTop0=document.querySelector(".layout_content").scrollTop},chooseTime:function(){this.chooseTimeShow||(this.chooseTimeShow=!0,setTimeout(function(){document.querySelector(".van-picker").onclick=function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}},0))},dateConfirm:function(e){this.time=e.getFullYear()+"-"+Number(e.getMonth()+1),this.tabMode?(this.$store.state.teacherTime2=this.time,this.time2=this.time):(this.$store.state.teacherTime1=this.time,this.time1=this.time),this.$refs.mychild.getData(this.time),this.cancel()},cancel:function(){this.chooseTimeShow=!1},change:function(e,t){var a=this;e?(this.tabMode=1,this.$store.state.tabActive=1):(this.$store.state.tabActive=0,this.tabMode=0),setTimeout(function(){document.querySelector(".layout_content").scrollTop=e?a.scrollTop1:a.scrollTop0},100)},onloadData:function(){this.$store.state.teacherTime1?this.time1=this.$store.state.teacherTime1:this.time1=this.utils.formatDate((new Date).getTime(),"yyyy-MM"),this.$store.state.teacherTime2?this.time2=this.$store.state.teacherTime2:this.time2=this.utils.formatDate((new Date).getTime(),"yyyy-MM")}},created:function(){this.$store.state.tabActive?this.tabMode=1:this.tabMode=0,this.onloadData()}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:e.domClick}},[a("van-nav-bar",{staticClass:"header",attrs:{title:"分配带教",fixed:"","left-arrow":""},on:{"click-left":e.onClickLeft}}),e._v(" "),a("div",{staticClass:"layout_content",class:e.chooseTimeShow?"bottom16rem":"",on:{scroll:e.scroll}},[a("van-tabs",{attrs:{swipeable:"",sticky:"","title-active-color":"#1a7fe9",color:"#5fa4ec","line-height":2,"offset-top":40},on:{change:e.change},model:{value:e.tabMode,callback:function(t){e.tabMode=t},expression:"tabMode"}},[a("van-tab",{attrs:{title:"待分配"}},[a("div",{staticClass:"head-time",attrs:{"data-name":"time"},on:{click:e.chooseTime}},[a("span",{attrs:{"data-name":"time"}},[e._v("入科时间")]),e._v(" "),a("span",{staticClass:"time",attrs:{"data-name":"time"}},[e._v("\n            "+e._s(e.time1?e.time1:"请选择时间")+"\n            "),a("van-icon",{attrs:{"data-name":"time",name:"arrow"}})],1)]),e._v(" "),a("ListLazy",{ref:"mychild",attrs:{mode:1,time:e.time1}})],1),e._v(" "),a("van-tab",{attrs:{title:"已分配"}},[a("div",{staticClass:"head-time",attrs:{"data-name":"time"},on:{click:e.chooseTime}},[a("span",{attrs:{"data-name":"time"}},[e._v("入科时间")]),e._v(" "),a("span",{staticClass:"time",attrs:{"data-name":"time"}},[e._v("\n            "+e._s(e.time2?e.time2:"请选择时间")+"\n            "),a("van-icon",{attrs:{"data-name":"time",name:"arrow"}})],1)]),e._v(" "),a("ListLazy",{ref:"mychild",attrs:{mode:2,time:e.time2}})],1)],1)],1),e._v(" "),e.chooseTimeShow?a("van-datetime-picker",{attrs:{type:"year-month"},on:{confirm:e.dateConfirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}}):e._e()],1)},staticRenderFns:[]};var s=a("VU/8")(o,n,!1,function(e){a("5iQc")},"data-v-73e01c25",null);t.default=s.exports}});
//# sourceMappingURL=13.d8451784de7d441cae48.js.map